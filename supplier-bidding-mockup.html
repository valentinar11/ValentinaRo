<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>UNOPS Supplier Portal - Tender Management</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Noto+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/primeicons@6.0.1/primeicons.css">
<style>
:root {
/* UNOPS Preset Primary Colors */
--primary-50: #e6f7ff;
--primary-100: #bae7ff;
--primary-200: #7dd3fc;
--primary-300: #38bdf8;
--primary-400: #0ea5e9;
--primary-500: #0092D1;
--primary-600: #0284c7;
--primary-700: #0369a1;
--surface-0: #ffffff;
--surface-50: #f5f8fb;
--surface-100: #ebf1f8;
--surface-200: #dde8f2;
--surface-300: #cfdfec;
--surface-400: #b8c9d9;
--surface-600: #95a7ba;
--surface-800: #596170;
--surface-900: #3b3e4a;
--success-500: #4c9f38;
--success-50: #d2e7cd;
--info-400: #0092d1;
--info-50: #bfe4f4;
--warning-500: #e85c0e;
--warning-50: #f9d6c3;
--danger-500: #da291c;
--danger-50: #f6cac6;
--text-primary: var(--surface-900);
--text-secondary: var(--surface-800);
--text-muted: var(--surface-600);
--spacing-xs: 6px;
--spacing-sm: 12px;
--spacing-md: 20px;
--spacing-lg: 28px;
--spacing-xl: 36px;
--spacing-2xl: 48px;
--radius-sm: 4px;
--radius-md: 6px;
--radius-lg: 8px;
--shadow-card: 0 1px 3px rgba(0, 0, 0, 0.08), 0 1px 2px rgba(0, 0, 0, 0.06);
--shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
--shadow-md: 0 4px 6px rgba(0, 0, 0, 0.08);
--shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
}

* {
box-sizing: border-box;
margin: 0;
padding: 0;
}

body {
font-family: 'Lato', 'Noto Sans', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
background: var(--surface-50);
color: var(--text-primary);
line-height: 1.5;
min-height: 100vh;
}

.header {
background: var(--surface-0);
border-bottom: 1px solid var(--surface-200);
position: sticky;
top: 0;
z-index: 100;
}

.header-top {
display: flex;
align-items: center;
justify-content: space-between;
padding: var(--spacing-md) var(--spacing-xl);
}

.logo-container {
display: flex;
align-items: center;
gap: var(--spacing-md);
}

.logo {
font-weight: 700;
font-size: 20px;
letter-spacing: 0.12em;
color: var(--primary-400);
}

.portal-badge {
background: var(--primary-400);
color: white;
font-size: 12px;
font-weight: 600;
padding: 4px 12px;
border-radius: 4px;
text-transform: uppercase;
letter-spacing: 0.05em;
}

.user-menu {
display: flex;
align-items: center;
gap: var(--spacing-md);
}

.user-info {
text-align: right;
}

.user-company {
font-size: 12px;
color: var(--text-muted);
}

.user-name {
font-size: 14px;
font-weight: 500;
color: var(--text-primary);
}

.user-avatar {
width: 36px;
height: 36px;
border-radius: 50%;
background: var(--primary-100);
display: flex;
align-items: center;
justify-content: center;
font-weight: 600;
color: var(--primary-600);
cursor: pointer;
}

.header-icons {
display: flex;
align-items: center;
gap: var(--spacing-sm);
}

.header-icon-btn {
width: 36px;
height: 36px;
border-radius: 50%;
background: transparent;
border: none;
display: flex;
align-items: center;
justify-content: center;
cursor: pointer;
transition: all 0.2s;
color: var(--text-secondary);
font-size: 18px;
position: relative;
}

.header-icon-btn:hover {
background: var(--surface-100);
color: var(--primary-500);
}

.header-icon-btn.ai-btn {
background: linear-gradient(135deg, #8B5CF6 0%, #6366F1 100%);
color: white;
}

.header-icon-btn.ai-btn:hover {
transform: scale(1.05);
box-shadow: 0 2px 8px rgba(99, 102, 241, 0.4);
}

.notification-badge-old {
position: absolute;
top: 2px;
right: 2px;
width: 8px;
height: 8px;
background: var(--danger-500);
border-radius: 50%;
border: 2px solid var(--surface-0);
}

/* Header Actions - New Styles */
.header-actions {
display: flex;
align-items: center;
gap: var(--spacing-md);
margin-left: auto;
margin-right: var(--spacing-lg);
}

.header-action-btn {
display: flex;
align-items: center;
justify-content: center;
padding: 8px;
background: transparent;
border: none;
border-radius: var(--radius-md);
cursor: pointer;
transition: all 0.2s ease;
position: relative;
gap: 6px;
}

.header-action-btn:hover {
background: var(--surface-100);
transform: scale(1.1);
}

.header-action-btn:focus {
outline: 2px solid var(--primary-400);
outline-offset: 2px;
}

.header-action-btn i {
font-size: 20px;
color: var(--text-muted);
transition: color 0.2s ease;
}

.header-action-btn:hover i {
color: var(--primary-500);
}

.header-action-label {
display: none;
}

.notification-badge {
position: absolute;
top: -4px;
right: -4px;
background: var(--danger-500);
color: white;
font-size: 10px;
font-weight: 700;
min-width: 18px;
height: 18px;
border-radius: 9px;
display: flex;
align-items: center;
justify-content: center;
padding: 0 5px;
border: 2px solid white;
}

.ai-assistant-btn {
background: transparent;
}

.ai-assistant-btn:hover {
background: rgba(139, 92, 246, 0.1);
}

.ai-assistant-btn:hover .ai-icon-wrapper {
transform: scale(1.1);
box-shadow: 0 2px 8px rgba(139, 92, 246, 0.4);
}

.ai-icon-wrapper {
width: 20px;
height: 20px;
background: linear-gradient(135deg, #8b5cf6 0%, #3b82f6 100%);
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
}

.ai-icon-wrapper i {
font-size: 11px;
color: white;
}

.ai-badge {
font-size: 8px;
background: var(--success-500);
color: white;
padding: 2px 4px;
border-radius: 3px;
font-weight: 700;
margin-left: 4px;
}

.language-selector {
min-width: auto;
}

.lang-flag {
font-size: 16px;
}

.notification-btn i {
color: var(--text-muted);
}

.notification-btn:hover i {
color: var(--primary-500);
}

/* Accessibility Panel Styles */
.accessibility-panel {
position: fixed;
top: 70px;
right: 20px;
width: 320px;
background: var(--surface-0);
border-radius: var(--radius-lg);
box-shadow: var(--shadow-lg);
z-index: 10000;
display: none;
border: 1px solid var(--surface-200);
}

.accessibility-panel.open {
display: block;
animation: modalSlideIn 0.3s ease-out;
}

.accessibility-panel-header {
padding: var(--spacing-lg);
background: var(--surface-50);
border-bottom: 1px solid var(--surface-200);
border-radius: var(--radius-lg) var(--radius-lg) 0 0;
display: flex;
justify-content: space-between;
align-items: center;
}

.accessibility-option {
display: flex;
align-items: center;
justify-content: space-between;
padding: var(--spacing-md);
border-bottom: 1px solid var(--surface-100);
}

.accessibility-option:last-child {
border-bottom: none;
}

.accessibility-toggle {
width: 44px;
height: 24px;
background: var(--surface-300);
border-radius: 12px;
position: relative;
cursor: pointer;
transition: background 0.2s;
}

.accessibility-toggle.active {
background: var(--primary-500);
}

.accessibility-toggle::after {
content: '';
position: absolute;
top: 2px;
left: 2px;
width: 20px;
height: 20px;
background: white;
border-radius: 50%;
transition: transform 0.2s;
box-shadow: 0 1px 3px rgba(0,0,0,0.2);
}

.accessibility-toggle.active::after {
transform: translateX(20px);
}

.app-container {
display: flex;
min-height: calc(100vh - 65px);
}

.sidebar {
width: 280px;
background-color: #0192D1;
color: white;
display: flex;
flex-direction: column;
border-right: none;
}

.sidebar-menu {
flex: 1;
padding: 20px 0;
}

.menu-section {
margin-bottom: var(--spacing-lg);
}

.menu-section-title {
padding: 0 20px 15px 20px;
font-size: 20px;
font-weight: bold;
text-transform: none;
letter-spacing: 0;
color: white;
font-family: 'Lato', sans-serif;
margin-bottom: var(--spacing-sm);
border-bottom: 1px solid rgba(255, 255, 255, 0.2);
}

.menu-item {
display: flex;
align-items: center;
gap: 12px;
padding: 12px 20px;
color: white;
text-decoration: none;
font-size: 16px;
font-weight: normal;
font-family: 'Lato', sans-serif;
transition: background-color 0.2s ease;
border-left: none;
cursor: pointer;
margin: 0 10px;
border-radius: 5px;
}

.menu-item:hover {
background-color: rgba(255, 255, 255, 0.1);
color: white;
}

.menu-item.active {
background-color: #006599;
color: white;
}

.menu-icon {
font-size: 18px;
width: 20px;
text-align: center;
flex-shrink: 0;
}

.menu-icon i {
font-size: 18px;
color: white;
}

.menu-badge {
margin-left: auto;
padding: 2px 8px;
background: var(--danger-500);
color: white;
font-size: 11px;
font-weight: 600;
border-radius: 999px;
}

.main-area {
flex: 1;
display: flex;
flex-direction: column;
overflow: hidden;
}

.view-container {
flex: 1;
overflow-y: auto;
}

.view-section {
display: none;
}

.view-section.active {
display: block;
}

.main-content {
max-width: 1400px;
margin: 0 auto;
padding: var(--spacing-xl);
width: 100%;
}

.page-header {
margin-bottom: var(--spacing-xl);
display: flex;
justify-content: space-between;
align-items: center;
}

.page-title {
font-size: 28px;
font-weight: 600;
color: var(--text-primary);
margin-bottom: var(--spacing-sm);
}

.page-subtitle {
font-size: 14px;
color: var(--text-secondary);
}

.stats-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
gap: var(--spacing-lg);
margin-bottom: var(--spacing-xl);
}

.stat-card {
background: var(--surface-0);
border-radius: var(--radius-lg);
padding: var(--spacing-lg);
box-shadow: var(--shadow-card);
border: 1px solid var(--surface-200);
}

.stat-value {
font-size: 32px;
font-weight: 700;
color: var(--primary-400);
margin-bottom: var(--spacing-xs);
}

.stat-label {
font-size: 14px;
color: var(--text-secondary);
}

.stat-icon {
font-size: 24px;
margin-bottom: var(--spacing-sm);
}

.card {
background: var(--surface-0);
border-radius: var(--radius-lg);
padding: var(--spacing-xl);
box-shadow: var(--shadow-card);
border: 1px solid var(--surface-200);
margin-bottom: var(--spacing-lg);
}

.card-header {
display: flex;
align-items: center;
justify-content: space-between;
margin-bottom: var(--spacing-lg);
padding-bottom: var(--spacing-md);
border-bottom: 2px solid var(--surface-200);
}

.card-title {
font-size: 20px;
font-weight: 600;
color: var(--text-primary);
}

.tender-table {
width: 100%;
border-collapse: collapse;
font-size: 14px;
}

.tender-table th,
.tender-table td {
padding: 16px;
text-align: left;
border-bottom: 1px solid var(--surface-200);
}

.tender-table th {
background: var(--surface-50);
font-weight: 600;
color: var(--text-primary);
font-size: 12px;
text-transform: uppercase;
letter-spacing: 0.05em;
}

.tender-table tbody tr {
cursor: pointer;
transition: all 0.2s ease;
}

.tender-table tbody tr:hover {
background: var(--surface-50);
}

.tender-ref {
font-weight: 600;
color: var(--primary-400);
margin-bottom: var(--spacing-xs);
font-size: 13px;
}

.tender-title-cell {
font-weight: 500;
color: var(--text-primary);
}

.tender-type-badge {
display: inline-block;
padding: 4px 10px;
border-radius: 999px;
font-size: 11px;
font-weight: 600;
text-transform: uppercase;
letter-spacing: 0.05em;
}

.tender-type-public {
background: var(--info-50);
color: var(--info-400);
}

.tender-type-limited {
background: var(--warning-50);
color: var(--warning-500);
}

.status-badge {
display: inline-block;
padding: 6px 12px;
border-radius: 999px;
font-size: 12px;
font-weight: 600;
}

.status-draft, .status-not-started {
background: var(--surface-200);
color: var(--text-secondary);
}

.status-interested {
background: var(--info-50);
color: var(--info-400);
}

.status-in-progress {
background: var(--warning-50);
color: var(--warning-500);
}

.status-submitted {
background: var(--success-50);
color: var(--success-500);
}

.status-open {
background: var(--success-50);
color: var(--success-500);
}

.status-evaluation {
background: var(--info-50);
color: var(--info-400);
}

.status-awarded {
background: var(--success-50);
color: var(--success-500);
}

.status-cancelled {
background: var(--danger-50);
color: var(--danger-500);
}

.status-not-awarded {
background: var(--surface-100);
color: var(--text-muted);
}

/* Document Download List */
.document-download-list {
display: flex;
flex-direction: column;
gap: var(--spacing-sm);
}

.document-download-item {
display: flex;
justify-content: space-between;
align-items: center;
padding: var(--spacing-md);
background: var(--surface-50);
border: 1px solid var(--surface-200);
border-radius: var(--radius-md);
transition: all 0.2s;
}

.document-download-item:hover {
background: var(--surface-100);
border-color: var(--primary-200);
}

.document-info {
display: flex;
align-items: center;
gap: var(--spacing-md);
}

.document-icon {
font-size: 24px;
}

.document-name {
font-weight: 600;
font-size: 14px;
color: var(--text-primary);
margin-bottom: 2px;
}

.document-meta {
font-size: 12px;
color: var(--text-muted);
}

/* Amendment Cards */
.amendment-list {
display: flex;
flex-direction: column;
gap: 0;
}

.amendment-card {
background: var(--surface-0);
border: 1px solid var(--surface-200);
border-radius: var(--radius-sm);
padding: var(--spacing-sm) var(--spacing-md);
border-left: 3px solid var(--warning-500);
margin-bottom: 6px;
}

.amendment-card:last-child {
margin-bottom: 0;
}

.amendment-header-card {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: var(--spacing-sm);
}

.amendment-badge {
background: var(--warning-50);
color: var(--warning-600);
font-size: 10px;
font-weight: 600;
padding: 2px 8px;
border-radius: 3px;
}

.amendment-date-card {
font-size: 10px;
color: var(--text-muted);
}

.amendment-title {
font-weight: 600;
font-size: 12px;
color: var(--text-primary);
margin-bottom: 4px;
}

.amendment-description {
font-size: 11px;
color: var(--text-muted);
line-height: 1.5;
margin-bottom: 6px;
margin-bottom: var(--spacing-md);
}

.amendment-actions {
display: flex;
gap: 6px;
margin-top: 4px;
}

/* Collapsible Sections */
.collapsible-section {
border: 1px solid var(--surface-200);
border-radius: var(--radius-md);
overflow: hidden;
}

.section-header-collapsible {
display: flex;
justify-content: space-between;
align-items: center;
padding: 10px var(--spacing-md);
background: var(--surface-50);
cursor: pointer;
transition: background 0.2s;
}

.section-header-collapsible:hover {
background: var(--surface-100);
}

.section-collapse-icon {
font-size: 10px;
color: var(--text-muted);
transition: transform 0.3s ease;
}

.collapsible-section.collapsed .section-collapse-icon {
transform: rotate(-90deg);
}

.section-collapsible-content {
padding: var(--spacing-md);
transition: all 0.3s ease;
}

.collapsible-section.collapsed .section-collapsible-content {
display: none;
}

/* Document Actions */
.document-actions {
display: flex;
gap: var(--spacing-xs);
}

/* Submission Form List */
.submission-form-list {
display: flex;
flex-direction: column;
gap: var(--spacing-sm);
}

.submission-form-item {
  background: var(--surface-0);
border: 1px solid var(--surface-200);
  border-radius: var(--radius-md);
  padding: var(--spacing-md);
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--spacing-md);
}

.submission-form-item:hover {
  border-color: var(--primary-400);
  background: var(--primary-50);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
  transform: translateY(-1px);
}

.submission-form-name {
font-weight: 600;
font-size: 13px;
color: var(--text-primary);
  display: flex;
  align-items: center;
}

.submission-form-name i {
  color: var(--primary-500);
  margin-right: 8px;
}

.submission-form-attachments {
display: flex;
align-items: center;
gap: 8px;
margin-top: 4px;
}

.attachment-tag {
font-size: 10px;
padding: 2px 6px;
background: var(--surface-100);
border: 1px solid var(--surface-200);
border-radius: 3px;
color: var(--text-muted);
}

.attachment-tag.from-profile {
background: var(--success-50);
border-color: var(--success-100);
color: var(--success-600);
}

/* Compact attachment summary */
.attachment-summary {
  display: flex;
  align-items: center;
  gap: 12px;
  font-size: 12px;
  color: var(--text-secondary);
}

.attachment-count {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 10px;
  background: var(--surface-50);
  border-radius: var(--radius-sm);
  font-size: 12px;
  font-weight: 500;
}

.attachment-count i {
  font-size: 12px;
  color: var(--text-muted);
}

.attachment-count.required {
  background: var(--danger-50);
  color: var(--danger-600);
}

.attachment-count.required i {
  color: var(--danger-500);
}

.attachment-count.from-profile {
  background: var(--success-50);
  color: var(--success-700);
}

.attachment-count.from-profile i {
  color: var(--success-500);
}

.deadline-cell {
display: flex;
flex-direction: column;
gap: var(--spacing-xs);
}

.deadline-date {
font-weight: 500;
}

.deadline-remaining {
font-size: 12px;
color: var(--text-muted);
}

.deadline-urgent {
color: var(--danger-500);
font-weight: 600;
}

.tender-info-banner {
background: linear-gradient(135deg, var(--primary-600) 0%, var(--primary-400) 100%);
border-radius: var(--radius-md);
padding: var(--spacing-md) var(--spacing-lg);
color: white;
margin-bottom: var(--spacing-md);
box-shadow: var(--shadow-card);
}

.tender-banner-ref {
font-size: 12px;
opacity: 0.85;
margin-bottom: 4px;
}

.tender-banner-title {
font-size: 16px;
font-weight: 600;
margin-bottom: var(--spacing-sm);
line-height: 1.3;
}

.tender-meta {
display: flex;
gap: var(--spacing-lg);
flex-wrap: wrap;
}

.meta-item {
display: flex;
flex-direction: column;
gap: 2px;
}

.meta-label {
font-size: 10px;
opacity: 0.75;
text-transform: uppercase;
letter-spacing: 0.05em;
}

.meta-value {
font-size: 13px;
font-weight: 600;
}

/* Tender Timeline Banner */
.tender-timeline-banner {
  background: var(--surface-0);
  border-radius: var(--radius-md);
  padding: var(--spacing-md);
  margin-bottom: var(--spacing-md);
  border: 1px solid var(--surface-200);
  box-shadow: var(--shadow-xs);
}

.timeline-banner-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--spacing-md);
}

.timeline-header-right {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
}

.timeline-banner-status {
  display: flex;
  align-items: center;
  gap: 8px;
}

.timeline-status-dot {
  width: 8px;
  height: 8px;
  background: var(--success-500);
  border-radius: 50%;
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.6; transform: scale(1.2); }
}

.timeline-status-text {
  font-size: 11px;
  font-weight: 600;
  color: var(--success-600);
  text-transform: uppercase;
  letter-spacing: 0.03em;
}

.timeline-remaining {
  display: flex;
  align-items: center;
  gap: 6px;
  background: var(--warning-50);
  padding: 6px 12px;
  border-radius: var(--radius-sm);
  border: 1px solid var(--warning-100);
}

.timeline-remaining i {
  color: var(--warning-600);
  font-size: 14px;
}

.timeline-remaining-text {
  font-size: 12px;
  font-weight: 600;
  color: var(--warning-700);
}

/* Horizontal Timeline */
.horizontal-timeline {
  position: relative;
  padding: 0 10px;
  margin-bottom: var(--spacing-md);
}

.timeline-track {
  position: relative;
  height: 4px;
  background: var(--surface-200);
  border-radius: 2px;
  margin: 30px 0 35px;
}

.timeline-progress {
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  background: linear-gradient(90deg, var(--primary-400), var(--primary-500));
  border-radius: 2px;
  transition: width 0.3s ease;
}

.timeline-today-marker {
  position: absolute;
  top: -8px;
  transform: translateX(-50%);
  z-index: 3;
}

.today-marker-dot {
  width: 20px;
  height: 20px;
  background: var(--primary-500);
  border: 3px solid var(--surface-0);
  border-radius: 50%;
  box-shadow: 0 2px 8px rgba(0, 146, 209, 0.4);
  position: relative;
}

.today-marker-label {
  position: absolute;
  top: -20px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 9px;
  font-weight: 700;
  color: var(--primary-600);
  background: var(--primary-50);
  padding: 2px 6px;
  border-radius: 3px;
  white-space: nowrap;
  text-transform: uppercase;
  letter-spacing: 0.03em;
}

.timeline-points {
  display: flex;
  justify-content: space-between;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 100%;
}

.timeline-point {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.timeline-point-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: var(--surface-0);
  border: 2px solid var(--surface-300);
  position: absolute;
  top: -4px;
  transform: translateX(-50%);
  left: 50%;
  z-index: 2;
  transition: all 0.2s ease;
}

.timeline-point.completed .timeline-point-dot {
  background: var(--primary-500);
  border-color: var(--primary-500);
}

.timeline-point.completed .timeline-point-dot::after {
  content: '✓';
  font-size: 7px;
  color: white;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.timeline-point.active .timeline-point-dot {
  background: var(--warning-500);
  border-color: var(--warning-500);
  box-shadow: 0 0 0 4px var(--warning-100);
}

.timeline-point.future .timeline-point-dot {
  background: var(--surface-100);
  border-color: var(--surface-300);
}

.timeline-point-content {
  position: absolute;
  top: 18px;
  text-align: center;
  width: 80px;
  transform: translateX(-50%);
  left: 50%;
}

.timeline-point:first-child .timeline-point-content {
  left: 0;
  transform: none;
  text-align: left;
}

.timeline-point:last-child .timeline-point-content {
  left: auto;
  right: 0;
  transform: none;
  text-align: right;
}

.timeline-point-label {
  font-size: 9px;
  font-weight: 600;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.02em;
  margin-bottom: 2px;
  white-space: nowrap;
}

.timeline-point-date {
  font-size: 11px;
  font-weight: 600;
  color: var(--text-primary);
  white-space: nowrap;
}

.timeline-point.active .timeline-point-label {
  color: var(--warning-600);
}

.timeline-point.active .timeline-point-date {
  color: var(--warning-700);
}

/* Timeline Banner Footer */
.timeline-banner-footer {
  display: flex;
  justify-content: flex-end;
  padding-top: var(--spacing-sm);
  border-top: 1px solid var(--surface-100);
}

/* Compact Timeline Variant */
.tender-timeline-banner.compact {
  padding: var(--spacing-sm) var(--spacing-md);
}

.tender-timeline-banner.compact .timeline-banner-header {
  margin-bottom: var(--spacing-sm);
}

.horizontal-timeline.compact {
  margin-bottom: 0;
}

.horizontal-timeline.compact .timeline-track {
  margin: 25px 0 30px;
}

/* Legacy deadline-warning kept for backwards compatibility */
.deadline-warning {
background: var(--warning-50);
border-left: 3px solid var(--warning-500);
border-radius: var(--radius-sm);
padding: 10px var(--spacing-md);
margin-bottom: var(--spacing-md);
display: flex;
align-items: center;
gap: var(--spacing-sm);
font-size: 13px;
}

.deadline-icon {
font-size: 24px;
}

.deadline-text {
flex: 1;
}

.deadline-text strong {
font-weight: 600;
color: var(--warning-500);
}

.tender-overview-grid {
display: block;
}

/* Tab Navigation for Tender Details */
.tender-tabs-container {
  background: var(--surface-0);
  border-radius: var(--radius-md);
  border: 1px solid var(--surface-200);
  overflow: hidden;
}

.tender-tabs-nav {
  display: flex;
  background: var(--surface-50);
  border-bottom: 1px solid var(--surface-200);
  overflow-x: auto;
  gap: 0;
}

.tender-tabs-nav::-webkit-scrollbar {
  height: 4px;
}

.tender-tabs-nav::-webkit-scrollbar-thumb {
  background: var(--surface-300);
  border-radius: 2px;
}

.tender-tab-btn {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 14px 20px;
  border: none;
  background: transparent;
  color: var(--text-secondary);
  font-family: 'Lato', sans-serif;
  font-size: 14px;
  font-weight: 500;
  letter-spacing: 0.01em;
  cursor: pointer;
  white-space: nowrap;
  border-bottom: 2px solid transparent;
  transition: all 0.2s ease;
  position: relative;
}

.tender-tab-btn:hover {
  background: var(--surface-100);
  color: var(--text-primary);
}

.tender-tab-btn.active {
  color: var(--primary-600);
  background: var(--surface-0);
  border-bottom-color: var(--primary-500);
  font-weight: 600;
}

.tender-tab-btn i {
  font-size: 15px;
  opacity: 0.85;
}

.tender-tab-btn.active i {
  opacity: 1;
}

.tender-tab-btn .tab-badge {
  font-family: 'Lato', sans-serif;
  font-size: 11px;
  font-weight: 600;
  padding: 2px 8px;
  border-radius: 10px;
  background: var(--surface-200);
  color: var(--text-muted);
  margin-left: 2px;
}

.tender-tab-btn.active .tab-badge {
  background: var(--primary-100);
  color: var(--primary-600);
}

.tender-tab-panel {
  display: none;
  padding: var(--spacing-lg);
  background: var(--surface-0);
  width: 100%;
  box-sizing: border-box;
  min-height: 150px;
}

.tender-tab-panel.active {
  display: block;
}

/* Ensure consistent styling for all tab content */
.tender-tab-panel .info-grid-2col {
  background: transparent;
}

.tender-tab-panel .info-description-box {
  background: var(--surface-50);
  border-radius: var(--radius-sm);
  padding: var(--spacing-md);
}

.overview-main {
display: flex;
flex-direction: column;
gap: var(--spacing-sm);
}

.overview-sidebar {
display: flex;
flex-direction: column;
gap: var(--spacing-sm);
}

.overview-section {
background: var(--surface-0);
border-radius: var(--radius-md);
padding: var(--spacing-md);
box-shadow: var(--shadow-xs);
border: 1px solid var(--surface-200);
}

.overview-section-title {
font-size: 13px;
font-weight: 600;
color: var(--text-primary);
margin-bottom: var(--spacing-sm);
display: flex;
align-items: center;
gap: 8px;
}

.overview-section-icon {
font-size: 16px;
color: var(--primary-500);
width: 20px;
text-align: center;
}

.info-row {
display: grid;
grid-template-columns: 140px 1fr;
gap: var(--spacing-sm);
padding: 6px 0;
border-bottom: 1px solid var(--surface-100);
}

.info-row:last-child {
border-bottom: none;
}

.info-label {
font-weight: 500;
color: var(--text-muted);
font-size: 12px;
}

.info-value {
color: var(--text-primary);
font-size: 12px;
}

/* 2-Column Info Grid */
.info-grid-2col {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 4px var(--spacing-lg);
}

.info-grid-2col .info-row {
  grid-template-columns: 130px 1fr;
}

/* Status Badges */
.status-badge {
  display: inline-flex;
  align-items: center;
  padding: 2px 8px;
  border-radius: 3px;
  font-size: 10px;
font-weight: 600;
}

.status-badge.status-info {
  background: var(--info-50);
  color: var(--info-600);
}

.status-badge.status-neutral {
  background: var(--surface-100);
color: var(--text-secondary);
}

/* Country Tags */
.country-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
}

.country-tag {
  background: var(--surface-100);
  color: var(--text-primary);
  padding: 2px 6px;
  border-radius: 3px;
  font-size: 10px;
  font-weight: 500;
}

/* Info Description Box */
.info-description-box {
  background: var(--surface-50);
  border-radius: var(--radius-sm);
  padding: var(--spacing-sm);
  border-left: 2px solid var(--primary-400);
  font-size: 12px;
}

.info-description-box p {
  font-size: 12px;
  line-height: 1.5;
}

/* Particulars Grid */
.particulars-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--spacing-xs);
}

.particular-item {
  background: var(--surface-50);
  border-radius: var(--radius-sm);
  padding: 8px 10px;
  border: 1px solid var(--surface-200);
}

.particular-label {
  font-size: 10px;
  font-weight: 600;
  color: var(--text-muted);
  margin-bottom: var(--spacing-xs);
}

.particular-value {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  flex-wrap: wrap;
}

.particular-status {
  font-size: 9px;
  font-weight: 600;
  padding: 2px 5px;
  border-radius: 3px;
  text-transform: uppercase;
}

.particular-status.required {
  background: var(--danger-50);
  color: var(--danger-500);
}

.particular-status.allowed {
  background: var(--success-50);
  color: var(--success-500);
}

.particular-status.applicable {
  background: var(--warning-50);
  color: var(--warning-500);
}

.particular-status.optional {
  background: var(--info-50);
  color: var(--info-600);
}

.particular-status.not-required {
  background: var(--surface-100);
  color: var(--text-muted);
}

.particular-amount {
  font-size: 11px;
  color: var(--text-primary);
  font-weight: 500;
}

/* UNSPSC Header */
.unspsc-header {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-bottom: 2px;
}

.unspsc-code {
  background: var(--primary-100);
  color: var(--primary-700);
  padding: 1px 6px;
  border-radius: 3px;
  font-size: 10px;
  font-weight: 700;
  font-family: 'Courier New', monospace;
}

.unspsc-category {
  font-size: 12px;
  color: var(--text-muted);
}

/* Requirement Sections */
.requirement-section {
  margin-bottom: var(--spacing-sm);
  padding-bottom: var(--spacing-sm);
  border-bottom: 1px solid var(--surface-200);
}

.requirement-section:last-child {
  margin-bottom: 0;
  padding-bottom: 0;
  border-bottom: none;
}

.requirement-section-title {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 11px;
  font-weight: 600;
  color: var(--text-muted);
  margin-bottom: 6px;
}

.requirement-section-title i {
  color: var(--primary-500);
  font-size: 11px;
}

/* Attributes Table */
.attributes-table {
  background: var(--surface-50);
  border-radius: var(--radius-sm);
  overflow: hidden;
}

.attribute-row {
  display: grid;
  grid-template-columns: 120px 1fr;
  border-bottom: 1px solid var(--surface-200);
}

.attribute-row:last-child {
  border-bottom: none;
}

.attribute-name {
  background: var(--surface-100);
  padding: 6px 10px;
  font-size: 11px;
  font-weight: 600;
  color: var(--text-muted);
}

.attribute-value {
  padding: 6px 10px;
  font-size: 11px;
  color: var(--text-primary);
}

/* Attachment Requirements */
.attachment-requirements {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.attachment-req-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 8px;
  background: var(--surface-50);
  border-radius: var(--radius-sm);
}

.attachment-req-icon {
  font-size: 12px;
}

.attachment-req-name {
  flex: 1;
  font-size: 11px;
  color: var(--text-primary);
}

.attachment-req-status {
  font-size: 9px;
  font-weight: 700;
  padding: 2px 6px;
  border-radius: 3px;
  text-transform: uppercase;
}

.attachment-req-status.mandatory {
  background: var(--danger-50);
  color: var(--danger-500);
}

.attachment-req-status.optional {
  background: var(--surface-200);
  color: var(--text-muted);
}

.requirement-description {
  font-size: 11px;
  line-height: 1.5;
  color: var(--text-muted);
  margin: 0;
}

/* Other Requirements List */
.other-requirements-list {
  background: var(--surface-50);
  border-radius: var(--radius-sm);
  padding: var(--spacing-sm);
}

.other-req-item {
  display: flex;
  align-items: flex-start;
  gap: 6px;
  padding: 3px 0;
  font-size: 11px;
  color: var(--text-muted);
}

.other-req-item i {
  flex-shrink: 0;
  margin-top: 1px;
  font-size: 11px;
}

/* Evaluation Method Card */
.evaluation-method-card {
  background: linear-gradient(135deg, var(--primary-50), var(--surface-50));
  border-radius: var(--radius-sm);
  padding: var(--spacing-sm) var(--spacing-md);
  border: 1px solid var(--primary-200);
}

.eval-method-header {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 4px;
}

.eval-method-badge {
  background: var(--primary-500);
  color: white;
  padding: 2px 8px;
  border-radius: 3px;
  font-size: 10px;
  font-weight: 700;
  text-transform: uppercase;
}

.eval-method-title {
font-size: 13px;
  font-weight: 600;
  color: var(--text-primary);
}

.eval-method-description {
  font-size: 11px;
  line-height: 1.5;
  color: var(--text-muted);
  margin: 0;
}

/* Evaluation Criteria Groups */
.eval-criteria-group {
  margin-bottom: var(--spacing-sm);
  border: 1px solid var(--surface-200);
  border-radius: var(--radius-md);
  overflow: hidden;
}

.eval-criteria-group-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 6px 10px;
  background: var(--surface-100);
  border-bottom: 1px solid var(--surface-200);
}

.criteria-group-badge {
  padding: 2px 8px;
  border-radius: 3px;
  font-size: 9px;
  font-weight: 700;
  text-transform: uppercase;
}

.criteria-group-badge.eligibility {
  background: var(--purple-50);
  color: var(--purple-700);
}

.criteria-group-badge.technical {
  background: var(--info-50);
  color: var(--info-600);
}

.criteria-group-badge.financial {
  background: var(--success-50);
  color: var(--success-500);
}

.criteria-group-type {
  font-size: 10px;
  color: var(--text-muted);
  font-weight: 500;
}

/* Evaluation Criteria Table */
.eval-criteria-table {
  display: flex;
  flex-direction: column;
}

.eval-criteria-row {
  display: grid;
  grid-template-columns: 55px 1fr 80px;
  gap: var(--spacing-sm);
  padding: 8px var(--spacing-sm);
  border-bottom: 1px solid var(--surface-100);
  align-items: start;
}

.eval-criteria-row:last-child {
  border-bottom: none;
}

.criteria-id {
  font-size: 9px;
  font-weight: 700;
  color: var(--text-muted);
  background: var(--surface-100);
  padding: 2px 6px;
  border-radius: 3px;
  text-align: center;
}

.criteria-details {
  flex: 1;
}

.criteria-name {
  font-size: 11px;
  font-weight: 600;
color: var(--text-primary);
  margin-bottom: 1px;
}

.criteria-desc {
  font-size: 10px;
  color: var(--text-muted);
}

.criteria-scope {
  font-size: 9px;
  color: var(--text-muted);
  background: var(--surface-50);
  padding: 2px 6px;
  border-radius: 3px;
  text-align: center;
}

/* Evaluation Note */
.evaluation-note {
  display: flex;
  align-items: flex-start;
  gap: 6px;
  background: var(--info-50);
  border-radius: var(--radius-sm);
  padding: 8px 10px;
  font-size: 10px;
  color: var(--info-700);
  border-left: 2px solid var(--info-500);
}

.evaluation-note i {
  flex-shrink: 0;
  margin-top: 1px;
  font-size: 11px;
}

/* Submission Summary - Compact */
.submission-summary-compact {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 11px;
  color: var(--text-muted);
  margin-bottom: var(--spacing-sm);
  padding: 8px 10px;
  background: var(--surface-50);
  border-radius: var(--radius-sm);
}

.submission-summary-compact i {
  font-size: 11px;
}

.submission-summary-compact .divider {
  color: var(--surface-300);
}

.submission-summary-compact .from-profile {
  color: var(--success-600);
}

/* Info Box Compact */
.info-box-compact {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 11px;
  color: var(--text-muted);
  margin-bottom: var(--spacing-sm);
}

/* Submission Form Headers */
.submission-form-header {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  flex: 1;
}

.form-status-badge {
  font-size: 10px;
  font-weight: 600;
  padding: 4px 10px;
  border-radius: var(--radius-full);
  text-transform: uppercase;
  letter-spacing: 0.03em;
  white-space: nowrap;
}

.form-status-badge.required {
  background: var(--primary-100);
  color: var(--primary-700);
  border: 1px solid var(--primary-200);
}

.form-status-badge.conditional {
  background: var(--surface-100);
  color: var(--text-muted);
  border: 1px solid var(--surface-200);
}

/* Enhanced Attachment Tags */
.attachment-tag.mandatory {
  background: var(--danger-50);
  color: var(--danger-600);
  border: 1px solid var(--danger-100);
}

.attachment-tag.optional {
  background: var(--surface-100);
  color: var(--text-muted);
  border: 1px dashed var(--surface-300);
}

.attachment-tag.no-attachment {
  background: transparent;
  color: var(--text-muted);
  border: 1px dashed var(--surface-300);
  font-style: italic;
}

.document-list {
list-style: none;
}

.document-list-item {
padding: var(--spacing-sm) 0;
display: flex;
align-items: center;
gap: var(--spacing-sm);
font-size: 14px;
color: var(--text-secondary);
}

.document-list-item::before {
content: '📄';
font-size: 16px;
}

.document-list-item.from-profile::before {
content: '⭐';
}

.timeline {
position: relative;
padding-left: var(--spacing-lg);
}

.timeline-item {
position: relative;
padding-bottom: var(--spacing-sm);
}

.timeline-item::before {
content: '';
position: absolute;
left: -18px;
top: 5px;
width: 8px;
height: 8px;
border-radius: 50%;
background: var(--primary-400);
border: 2px solid var(--surface-0);
box-shadow: 0 0 0 1px var(--primary-400);
}

.timeline-item::after {
content: '';
position: absolute;
left: -15px;
top: 14px;
width: 2px;
height: calc(100% - 6px);
background: var(--surface-200);
}

.timeline-item:last-child::after {
display: none;
}

.timeline-date {
font-size: 11px;
font-weight: 600;
color: var(--text-primary);
margin-bottom: 1px;
}

.timeline-content {
font-size: 11px;
color: var(--text-muted);
}

.layout-grid {
display: grid;
grid-template-columns: 280px 1fr;
gap: var(--spacing-xl);
}

.progress-sidebar {
position: sticky;
top: 100px;
height: fit-content;
}

.progress-card {
background: var(--surface-0);
border-radius: var(--radius-lg);
padding: var(--spacing-lg);
box-shadow: var(--shadow-card);
border: 1px solid var(--surface-200);
margin-bottom: var(--spacing-md);
}

.progress-header {
font-size: 14px;
font-weight: 600;
color: var(--text-primary);
margin-bottom: var(--spacing-md);
}

.progress-bar {
height: 8px;
background: var(--surface-200);
border-radius: 999px;
overflow: hidden;
margin-bottom: var(--spacing-sm);
}

.progress-fill {
height: 100%;
background: linear-gradient(90deg, var(--success-500) 0%, var(--primary-400) 100%);
transition: width 0.3s ease;
}

.progress-text {
font-size: 12px;
color: var(--text-secondary);
text-align: right;
}

.section-nav {
background: var(--surface-0);
border-radius: var(--radius-lg);
box-shadow: var(--shadow-card);
border: 1px solid var(--surface-200);
overflow: hidden;
}

.section-nav-item {
display: flex;
align-items: center;
gap: var(--spacing-sm);
padding: 12px var(--spacing-md);
border-left: 3px solid transparent;
cursor: pointer;
transition: all 0.2s ease;
text-decoration: none;
color: var(--text-secondary);
font-size: 14px;
}

.section-nav-item:hover {
background: var(--surface-50);
}

.section-nav-item.active {
background: var(--primary-50);
border-left-color: var(--primary-400);
color: var(--primary-600);
font-weight: 600;
}

.section-nav-item.completed {
color: var(--success-500);
}

.section-icon {
font-size: 18px;
width: 24px;
text-align: center;
}

.content-area {
flex: 1;
}

.section-block {
background: var(--surface-0);
border-radius: var(--radius-lg);
padding: var(--spacing-xl);
box-shadow: var(--shadow-card);
border: 1px solid var(--surface-200);
margin-bottom: var(--spacing-lg);
}

.section-block.hidden {
display: none;
}

.section-header {
display: flex;
align-items: center;
justify-content: space-between;
margin-bottom: var(--spacing-lg);
padding-bottom: var(--spacing-md);
border-bottom: 2px solid var(--surface-200);
}

.section-title {
font-size: 20px;
font-weight: 600;
color: var(--text-primary);
display: flex;
align-items: center;
gap: var(--spacing-md);
}

.title-icon {
width: 40px;
height: 40px;
display: flex;
align-items: center;
justify-content: center;
background: var(--primary-50);
border-radius: var(--radius-sm);
font-size: 20px;
}

.section-status {
padding: 6px 16px;
border-radius: 999px;
font-size: 12px;
font-weight: 600;
}

.status-complete {
background: var(--success-50);
color: var(--success-500);
}

.status-incomplete {
background: var(--warning-50);
color: var(--warning-500);
}

.status-error {
background: var(--danger-50);
color: var(--danger-500);
}

.collapsible-form {
background: var(--surface-0);
border: 1px solid var(--surface-200);
border-radius: var(--radius-lg);
margin-bottom: var(--spacing-lg);
overflow: hidden;
}

.collapsible-form-header {
padding: var(--spacing-lg);
background: var(--surface-50);
cursor: pointer;
display: flex;
align-items: center;
justify-content: space-between;
transition: all 0.2s ease;
}

.collapsible-form-header:hover {
background: var(--surface-100);
}

.collapsible-form-title {
font-size: 16px;
font-weight: 600;
color: var(--text-primary);
display: flex;
align-items: center;
gap: var(--spacing-md);
}

.form-icon {
width: 36px;
height: 36px;
display: flex;
align-items: center;
justify-content: center;
background: var(--primary-50);
border-radius: var(--radius-sm);
font-size: 18px;
}

.collapsible-form-meta {
display: flex;
align-items: center;
gap: var(--spacing-md);
}

.form-completion {
font-size: 12px;
color: var(--text-muted);
}

.collapse-icon {
font-size: 20px;
color: var(--text-muted);
transition: transform 0.2s ease;
}

.collapsible-form.collapsed .collapse-icon {
transform: rotate(-90deg);
}

.collapsible-form-body {
padding: var(--spacing-xl);
border-top: 1px solid var(--surface-200);
}

.collapsible-form.collapsed .collapsible-form-body {
display: none;
}

.info-box {
padding: var(--spacing-md);
background: var(--info-50);
border-left: 4px solid var(--info-400);
border-radius: var(--radius-sm);
margin-bottom: var(--spacing-lg);
font-size: 14px;
color: var(--text-secondary);
}

.info-box-icon {
margin-right: var(--spacing-sm);
}

.form-grid {
display: grid;
grid-template-columns: repeat(2, 1fr);
gap: var(--spacing-lg);
}

.form-group {
display: flex;
flex-direction: column;
gap: var(--spacing-sm);
}

.form-group.full-width {
grid-column: 1 / -1;
}

.form-label {
font-size: 14px;
font-weight: 600;
color: var(--text-primary);
display: flex;
align-items: center;
gap: var(--spacing-xs);
}

.required {
color: var(--danger-500);
}

.optional-badge {
font-size: 11px;
font-weight: 500;
color: var(--text-muted);
background: var(--surface-100);
padding: 2px 8px;
border-radius: 999px;
}

.form-input,
.form-select,
.form-textarea {
padding: 12px 16px;
border: 1px solid var(--surface-200);
border-radius: var(--radius-sm);
font-size: 14px;
font-family: inherit;
background: var(--surface-0);
color: var(--text-primary);
transition: all 0.2s ease;
width: 100%;
}

.form-input:focus,
.form-select:focus,
.form-textarea:focus {
outline: none;
border-color: var(--primary-400);
box-shadow: 0 0 0 3px var(--primary-50);
}

.form-input:disabled,
.form-select:disabled,
.form-textarea:disabled {
background: var(--surface-100);
cursor: not-allowed;
opacity: 0.7;
}

.form-textarea {
resize: vertical;
min-height: 120px;
}

.help-text {
font-size: 12px;
color: var(--text-muted);
}

.file-upload-area {
border: 2px dashed var(--surface-300);
border-radius: var(--radius-sm);
padding: var(--spacing-lg);
text-align: center;
transition: all 0.2s ease;
cursor: pointer;
background: var(--surface-0);
margin-top: var(--spacing-sm);
}

.file-upload-area:hover {
border-color: var(--primary-400);
background: var(--primary-50);
}

.file-upload-options {
display: flex;
gap: var(--spacing-md);
justify-content: center;
margin-bottom: var(--spacing-md);
}

.upload-option-btn {
padding: 10px 20px;
border: 1px solid var(--surface-300);
background: var(--surface-0);
border-radius: var(--radius-sm);
cursor: pointer;
font-size: 13px;
font-weight: 500;
color: var(--text-primary);
transition: all 0.2s ease;
}

.upload-option-btn:hover {
background: var(--primary-50);
border-color: var(--primary-400);
color: var(--primary-400);
}

.upload-icon {
font-size: 32px;
margin-bottom: var(--spacing-sm);
opacity: 0.5;
}

.upload-text {
font-size: 14px;
color: var(--text-secondary);
margin-bottom: var(--spacing-xs);
}

.upload-subtext {
font-size: 12px;
color: var(--text-muted);
}

.uploaded-file {
display: flex;
align-items: center;
gap: var(--spacing-md);
padding: var(--spacing-md);
background: var(--surface-50);
border: 1px solid var(--surface-200);
border-radius: var(--radius-sm);
margin-top: var(--spacing-sm);
}

.file-icon {
font-size: 24px;
}

.file-info {
flex: 1;
}

.file-name {
font-size: 14px;
font-weight: 500;
color: var(--text-primary);
}

.file-size {
font-size: 12px;
color: var(--text-muted);
}

.file-remove {
padding: 6px 12px;
border: none;
background: transparent;
color: var(--danger-500);
cursor: pointer;
border-radius: var(--radius-sm);
transition: all 0.2s ease;
}

.file-remove:hover {
background: var(--danger-50);
}

.lot-selector {
display: flex;
gap: var(--spacing-md);
margin-bottom: var(--spacing-lg);
flex-wrap: wrap;
}

.lot-card {
flex: 1;
min-width: 200px;
padding: var(--spacing-md);
border: 2px solid var(--surface-200);
border-radius: var(--radius-sm);
cursor: pointer;
transition: all 0.2s ease;
}

.lot-card:hover {
border-color: var(--primary-400);
background: var(--primary-50);
}

.lot-card.selected {
border-color: var(--primary-400);
background: var(--primary-50);
box-shadow: 0 0 0 3px var(--primary-50);
}

.lot-title {
font-size: 14px;
font-weight: 600;
color: var(--text-primary);
margin-bottom: var(--spacing-xs);
}

.lot-desc {
font-size: 12px;
color: var(--text-secondary);
}

.subsidiary-item {
display: flex;
align-items: center;
justify-content: space-between;
padding: var(--spacing-md);
background: var(--surface-50);
border: 1px solid var(--surface-200);
border-radius: var(--radius-sm);
margin-bottom: var(--spacing-md);
}

.subsidiary-info {
flex: 1;
}

.subsidiary-name {
font-size: 14px;
font-weight: 600;
color: var(--text-primary);
margin-bottom: var(--spacing-xs);
}

.subsidiary-ungm {
font-size: 12px;
color: var(--text-muted);
}

.checkbox-group {
display: flex;
align-items: flex-start;
gap: var(--spacing-sm);
margin: var(--spacing-md) 0;
}

.checkbox-group input[type="checkbox"] {
margin-top: 4px;
width: 18px;
height: 18px;
}

.checkbox-group label {
font-size: 14px;
color: var(--text-secondary);
line-height: 1.5;
}

.btn {
border-radius: var(--radius-sm);
border: 1px solid transparent;
padding: 12px 24px;
font-size: 14px;
font-weight: 500;
font-family: inherit;
cursor: pointer;
transition: all 0.2s ease;
display: inline-flex;
align-items: center;
justify-content: center;
gap: var(--spacing-sm);
text-decoration: none;
}

.btn-primary {
background: var(--primary-400);
color: #fff;
border-color: var(--primary-400);
}

.btn-primary:hover {
background: var(--primary-500);
border-color: var(--primary-500);
}

.btn-primary:disabled {
background: var(--surface-300);
border-color: var(--surface-300);
color: var(--text-muted);
cursor: not-allowed;
}

.btn-secondary {
background: transparent;
border-color: var(--primary-400);
color: var(--primary-400);
}

.btn-secondary:hover {
background: var(--primary-50);
}

.btn-ghost {
background: transparent;
border-color: var(--surface-200);
color: var(--text-secondary);
}

.btn-ghost:hover {
background: var(--surface-100);
border-color: var(--surface-300);
}

.btn-success {
background: var(--success-500);
color: #fff;
border-color: var(--success-500);
}

.btn-success:hover {
background: #3d8a2a;
}

.btn-danger {
background: var(--danger-500);
color: #fff;
border-color: var(--danger-500);
}

.btn-danger:hover {
background: #c41f14;
}

.btn-sm {
padding: 6px 12px;
font-size: 12px;
}

.btn-link {
background: transparent;
border: none;
color: var(--primary-500);
padding: 4px 8px;
font-size: 11px;
font-weight: 500;
cursor: pointer;
display: inline-flex;
align-items: center;
gap: 4px;
transition: all 0.15s ease;
}

.btn-link:hover {
color: var(--primary-600);
background: var(--primary-50);
border-radius: var(--radius-sm);
}

/* Section Count Badge */
.section-count-badge {
background: var(--surface-200);
color: var(--text-muted);
font-size: 10px;
font-weight: 600;
padding: 2px 6px;
border-radius: 10px;
margin-left: 6px;
}

.action-bar {
background: var(--surface-0);
border-top: 1px solid var(--surface-200);
padding: var(--spacing-md) var(--spacing-xl);
position: sticky;
bottom: 0;
display: flex;
justify-content: space-between;
align-items: center;
box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.1);
}

.action-buttons {
display: flex;
gap: var(--spacing-md);
}

.auto-save-indicator {
font-size: 12px;
color: var(--text-muted);
display: flex;
align-items: center;
gap: var(--spacing-xs);
}

.table-responsive {
overflow-x: auto;
margin: var(--spacing-lg) 0;
}

.data-table {
width: 100%;
border-collapse: collapse;
font-size: 14px;
}

.data-table th,
.data-table td {
padding: 12px 16px;
text-align: left;
border-bottom: 1px solid var(--surface-200);
}

.data-table th {
background: var(--surface-50);
font-weight: 600;
color: var(--text-primary);
}

.data-table tr:hover {
background: var(--surface-50);
}

.quick-actions-bar {
position: fixed;
right: var(--spacing-xl);
top: 50%;
transform: translateY(-50%);
z-index: 90;
display: flex;
flex-direction: column;
gap: var(--spacing-sm);
}

.quick-action-btn {
width: 56px;
height: 56px;
border-radius: 50%;
background: var(--primary-400);
color: white;
border: none;
box-shadow: var(--shadow-card);
cursor: pointer;
display: flex;
align-items: center;
justify-content: center;
font-size: 24px;
transition: all 0.2s ease;
position: relative;
}

.quick-action-btn:hover {
background: var(--primary-500);
transform: scale(1.1);
}

.quick-action-tooltip {
position: absolute;
right: 70px;
background: var(--surface-900);
color: white;
padding: 8px 12px;
border-radius: var(--radius-sm);
font-size: 13px;
white-space: nowrap;
opacity: 0;
pointer-events: none;
transition: opacity 0.2s ease;
}

.quick-action-btn:hover .quick-action-tooltip {
opacity: 1;
}

.sidebar-panel {
position: fixed;
right: 0;
top: 0;
width: 600px;
height: 100vh;
background: var(--surface-0);
box-shadow: -2px 0 8px rgba(0, 0, 0, 0.1);
transform: translateX(100%);
transition: transform 0.3s ease;
z-index: 110;
overflow-y: auto;
}

.sidebar-panel.open {
transform: translateX(0);
}

.sidebar-panel-header {
padding: var(--spacing-lg);
background: var(--primary-600);
color: white;
display: flex;
justify-content: space-between;
align-items: center;
position: sticky;
top: 0;
z-index: 1;
}

.sidebar-panel-title {
font-size: 18px;
font-weight: 600;
}

      .sidebar-panel-body {
        padding: var(--spacing-xl);
      }

      .collapsible-section-compact {
        border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        margin-bottom: var(--spacing-sm);
      }

      .collapsible-header-compact {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: var(--spacing-md);
        cursor: pointer;
        transition: background 0.2s;
        font-size: 14px;
      }

      .collapsible-header-compact:hover {
        background: rgba(255, 255, 255, 0.05);
      }

      .collapsible-content-compact {
        padding: 0 var(--spacing-md) var(--spacing-md);
        display: none;
      }

      .collapsible-icon {
        transition: transform 0.3s;
        font-size: 12px;
      }

      .collapsible-icon.rotated {
        transform: rotate(-90deg);
      }

      .item-spec-card {
        background: rgba(255, 255, 255, 0.05);
        border-radius: var(--radius-sm);
        padding: var(--spacing-sm);
        margin-bottom: var(--spacing-sm);
      }

      .item-spec-header {
        margin-bottom: var(--spacing-xs);
        padding-bottom: var(--spacing-xs);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      .item-spec-detail {
        display: flex;
        gap: var(--spacing-xs);
        font-size: 12px;
        margin-bottom: 4px;
      }

      .spec-label {
        font-weight: 500;
        color: rgba(255, 255, 255, 0.8);
        min-width: 90px;
      }

      .spec-value {
        color: rgba(255, 255, 255, 0.9);
      }

      .collapsible-item-card {
        background: var(--surface-50);
        border: 1px solid var(--surface-200);
        border-radius: var(--radius-sm);
        margin-bottom: var(--spacing-xs);
        overflow: hidden;
        transition: all 0.3s;
      }

      .collapsible-item-card:hover {
        box-shadow: var(--shadow-sm);
      }

      .collapsible-item-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px var(--spacing-md);
        cursor: pointer;
        background: var(--surface-50);
        transition: all 0.2s;
        user-select: none;
      }

      .collapsible-item-header:hover {
        background: var(--surface-100);
        transform: translateX(2px);
      }

      .collapsible-item-header:active {
        transform: scale(0.99);
      }

      .collapsible-arrow {
        font-size: 12px;
        color: var(--primary-400);
        transition: transform 0.3s ease;
        margin-left: var(--spacing-sm);
        font-weight: bold;
        display: inline-block;
      }

      .collapsible-arrow.rotated {
        transform: rotate(180deg);
        color: var(--primary-600);
      }

      .collapsible-item-content {
        max-height: 0;
        overflow: hidden;
        padding: 0 var(--spacing-md);
        background: var(--surface-0);
        transition: max-height 0.4s ease, padding 0.4s ease;
      }

      .collapsible-item-content.expanded {
        max-height: 1000px;
        padding: 0 var(--spacing-md) var(--spacing-md);
      }

      .spec-detail-row {
        display: flex;
        gap: var(--spacing-sm);
        padding: var(--spacing-sm) 0;
        border-bottom: 1px solid var(--surface-100);
      }

      .spec-detail-row:last-child {
        border-bottom: none;
      }

      .spec-detail-label {
        font-weight: 600;
        color: var(--text-secondary);
        min-width: 140px;
        font-size: 13px;
      }

      .spec-detail-value {
        color: var(--text-primary);
        flex: 1;
        font-size: 13px;
        line-height: 1.5;
      }

      /* Key Dates Summary */
      .key-dates-summary {
        background: var(--surface-0);
        border-radius: var(--radius-md);
        padding: var(--spacing-md) var(--spacing-lg);
        margin-bottom: var(--spacing-lg);
        border: 1px solid var(--surface-200);
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: var(--spacing-lg);
      }

      .dates-grid {
        display: flex;
        align-items: center;
        gap: var(--spacing-xl);
        flex: 1;
      }

      .date-item {
        display: flex;
        align-items: center;
        gap: var(--spacing-xs);
      }

      .date-label {
        font-size: 13px;
        color: var(--text-muted);
        font-weight: 500;
      }

      .date-value {
        font-size: 13px;
        color: var(--text-primary);
        font-weight: 600;
      }

      .date-item.date-highlighted {
        background: var(--info-50);
        padding: var(--spacing-xs) var(--spacing-sm);
        border-radius: var(--radius-sm);
      }

      .date-item.date-highlighted .date-label {
        color: var(--primary-600);
      }

      .date-item.date-highlighted .date-value {
        color: var(--primary-600);
      }

      .dates-actions {
        display: flex;
        align-items: center;
      }

      .btn-link {
        background: none;
        border: none;
        color: var(--primary-500);
        padding: var(--spacing-sm);
        display: flex;
        align-items: center;
        gap: var(--spacing-xs);
        cursor: pointer;
        font-size: 14px;
        transition: all 0.2s;
      }

      .btn-link:hover {
        color: var(--primary-600);
        text-decoration: underline;
      }

      /* Amendment Items */
      .amendment-item {
        background: rgba(255, 255, 255, 0.05);
        border-radius: var(--radius-sm);
        padding: var(--spacing-sm);
        margin-bottom: var(--spacing-sm);
      }

      .amendment-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: var(--spacing-xs);
        font-size: 12px;
      }

      .amendment-number {
        font-weight: 600;
        color: rgba(255, 255, 255, 0.95);
      }

      .amendment-date {
        color: rgba(255, 255, 255, 0.7);
        font-size: 11px;
      }

      .amendment-content {
        color: rgba(255, 255, 255, 0.85);
      }

      /* Modal Overlay */
      .modal {
        display: none;
position: fixed;
top: 0;
left: 0;
        right: 0;
        bottom: 0;
width: 100%;
height: 100%;
background: rgba(0, 0, 0, 0.5);
        z-index: 2000;
align-items: center;
justify-content: center;
        backdrop-filter: blur(4px);
        animation: modalFadeIn 0.2s ease-out;
      }

      @keyframes modalFadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }

      @keyframes modalSlideIn {
        from { opacity: 0; transform: translateY(-20px) scale(0.95); }
        to { opacity: 1; transform: translateY(0) scale(1); }
}

.modal.show {
display: flex;
}

.modal-content {
        background: white;
        border-radius: 16px;
        width: 100%;
max-width: 700px;
max-height: 90vh;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        box-shadow: 0 20px 25px rgba(0, 0, 0, 0.15), 0 10px 10px rgba(0, 0, 0, 0.1);
        animation: modalSlideIn 0.3s ease-out;
}

.modal-header {
        padding: 24px;
        border-bottom: 1px solid var(--surface-200);
display: flex;
justify-content: space-between;
align-items: center;
        background: linear-gradient(135deg, var(--surface-50) 0%, var(--surface-0) 100%);
}

.modal-title {
font-size: 20px;
        font-weight: 700;
color: var(--text-primary);
        display: flex;
        align-items: center;
        gap: 12px;
        flex: 1;
      }

      .modal-title i {
        font-size: 22px;
        color: var(--primary-500);
}

.modal-close {
        background: none;
border: none;
font-size: 24px;
cursor: pointer;
color: var(--text-muted);
        padding: 4px;
        width: 36px;
        height: 36px;
display: flex;
align-items: center;
justify-content: center;
        border-radius: 50%;
        transition: all 0.2s ease;
}

.modal-close:hover {
background: var(--surface-100);
        color: var(--text-primary);
        transform: rotate(90deg);
}

.modal-body {
        padding: 24px;
        overflow-y: auto;
        flex: 1;
}

.modal-footer {
        padding: 20px 24px;
        border-top: 1px solid var(--surface-200);
display: flex;
justify-content: flex-end;
        gap: 12px;
        background: var(--surface-50);
      }

      /* Alert Styles */
      .alert {
        padding: 16px;
        border-radius: var(--radius-sm);
        margin-bottom: 20px;
        display: flex;
        gap: 12px;
        align-items: start;
      }

      .alert i {
        font-size: 20px;
        flex-shrink: 0;
      }

      .alert-info {
        background: var(--info-50);
        border-left: 4px solid var(--info-400);
        color: var(--text-secondary);
      }

      .alert-info i {
        color: var(--info-400);
      }

      .alert-warning {
        background: var(--warning-50);
        border-left: 4px solid var(--warning-500);
        color: #92400e;
      }

      .alert-warning i {
        color: var(--warning-500);
      }

      .alert-danger {
        background: var(--danger-50);
        border-left: 4px solid var(--danger-500);
        color: #991b1b;
      }

      .alert-danger i {
        color: var(--danger-500);
      }

      .alert-success {
        background: var(--success-50);
        border-left: 4px solid var(--success-500);
        color: #166534;
      }

      .alert-success i {
        color: var(--success-500);
}

.clarification-item {
background: var(--surface-50);
border: 1px solid var(--surface-200);
border-radius: var(--radius-sm);
padding: var(--spacing-sm) var(--spacing-md);
margin-bottom: 6px;
}

.clarification-item:last-child {
margin-bottom: 0;
}

.clarification-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 6px;
}

.clarification-number {
font-weight: 600;
font-size: 11px;
color: var(--primary-500);
}

.clarification-date {
font-size: 10px;
color: var(--text-muted);
}

.clarification-question {
background: var(--surface-100);
padding: 8px 10px;
border-radius: var(--radius-sm);
margin-bottom: 6px;
border-left: 2px solid var(--info-400);
}

.clarification-question p {
font-size: 11px;
line-height: 1.5;
color: var(--text-primary);
margin: 0;
}

.clarification-answer {
background: var(--success-50);
padding: 8px 10px;
border-radius: var(--radius-sm);
border-left: 2px solid var(--success-500);
}

.clarification-answer p {
font-size: 11px;
line-height: 1.5;
color: var(--text-primary);
margin: 0;
}

.clarification-label {
font-size: 9px;
font-weight: 600;
text-transform: uppercase;
color: var(--text-muted);
margin-bottom: 3px;
letter-spacing: 0.03em;
}

.amendment-item {
background: var(--warning-50);
border-left: 4px solid var(--warning-500);
padding: var(--spacing-lg);
border-radius: var(--radius-sm);
margin-bottom: var(--spacing-md);
}

.amendment-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: var(--spacing-sm);
}

.amendment-title {
font-weight: 600;
color: var(--text-primary);
}

.amendment-date {
font-size: 12px;
color: var(--text-muted);
}

.tender-details-inline {
background: var(--info-50);
border: 1px solid var(--info-400);
border-radius: var(--radius-lg);
padding: var(--spacing-md);
margin-bottom: var(--spacing-lg);
cursor: pointer;
transition: all 0.2s ease;
}

.tender-details-inline:hover {
background: var(--info-50);
box-shadow: var(--shadow-card);
}

.tender-details-inline-header {
display: flex;
align-items: center;
justify-content: space-between;
}

.tender-details-inline-title {
font-size: 14px;
font-weight: 600;
color: var(--info-400);
display: flex;
align-items: center;
gap: var(--spacing-sm);
}

@media (max-width: 1024px) {
.layout-grid {
grid-template-columns: 1fr;
}

.tender-overview-grid {
grid-template-columns: 1fr;
}

.progress-sidebar {
position: relative;
top: 0;
}

.sidebar {
width: 60px;
}

.menu-section-title,
.menu-item span:not(.menu-icon) {
display: none;
}

.sidebar:hover {
width: 280px;
}

.sidebar:hover .menu-section-title,
.sidebar:hover .menu-item span:not(.menu-icon) {
display: block;
}

.sidebar-panel {
width: 100%;
}

.quick-actions-bar {
right: var(--spacing-md);
}

.header-actions {
gap: 4px;
}
.header-action-label {
display: none;
}
.header-action-btn {
padding: 8px;
}
}

@media (max-width: 768px) {
.form-grid {
grid-template-columns: 1fr;
}

.tender-meta {
flex-direction: column;
gap: var(--spacing-md);
}

.action-bar {
flex-direction: column;
gap: var(--spacing-md);
}

.action-buttons {
width: 100%;
flex-direction: column;
}

.btn {
width: 100%;
}

.stats-grid {
grid-template-columns: 1fr;
}

.key-dates-summary {
flex-direction: column;
align-items: flex-start;
padding: var(--spacing-md);
gap: var(--spacing-md);
}

.dates-grid {
flex-direction: column;
align-items: flex-start;
gap: var(--spacing-sm);
width: 100%;
}

.dates-actions {
width: 100%;
}

.dates-actions .btn {
width: 100%;
}
}
</style>
</head>
<body>
<header class="header" role="banner">
<div class="header-top">
<div class="logo-container">
<div class="logo">UNOPS</div>
<span class="portal-badge">Supplier</span>
<span style="color: var(--surface-600); margin: 0 8px; font-size: 18px;">|</span>
<span style="color: var(--primary-500); font-weight: 600; font-size: 14px;">eTendering</span>
</div>

<!-- Header Actions: Notifications, Help, AI, Accessibility -->
<div class="header-actions">
<!-- Accessibility Button -->
<div class="header-action-btn" onclick="openAccessibilityPanel()" title="Accessibility Options" aria-label="Accessibility Options">
<i class="pi pi-eye" aria-hidden="true"></i>
<span class="header-action-label">Accessibility</span>
</div>

<!-- Language Selector -->
<div class="header-action-btn language-selector" onclick="openLanguageSelector()" title="Change Language" aria-label="Change Language">
<span class="lang-flag">🌐</span>
<span class="header-action-label" id="currentLang">EN</span>
<i class="pi pi-chevron-down" style="font-size: 10px; margin-left: 2px;" aria-hidden="true"></i>
</div>

<!-- AI Assistant -->
<div class="header-action-btn ai-assistant-btn" onclick="openAIAssistant()" title="AI Assistant" aria-label="AI Supplier Assistant">
<div class="ai-icon-wrapper">
<i class="pi pi-bolt" aria-hidden="true"></i>
</div>
<span class="header-action-label">AI Help</span>
<span class="ai-badge">NEW</span>
</div>

<!-- Help/Questions -->
<div class="header-action-btn" onclick="openHelpCenter()" title="Help Center" aria-label="Help Center and Documentation">
<i class="pi pi-question-circle" aria-hidden="true"></i>
<span class="header-action-label">Help</span>
</div>

<!-- Notifications -->
<div class="header-action-btn notification-btn" onclick="openNotificationsPanel()" title="Notifications" aria-label="View Notifications">
<i class="pi pi-bell" aria-hidden="true"></i>
<span class="notification-badge" id="notificationCount">7</span>
</div>
</div>

<div class="user-menu">
<div class="user-info">
<div class="user-company">Acme Corporation Ltd.</div>
<div class="user-name">John Doe</div>
</div>
<div class="user-avatar" aria-label="User menu">JD</div>
</div>
</div>
</header>

<div class="app-container">
<aside class="sidebar">
<nav class="sidebar-menu">
<div class="menu-section">
<div class="menu-section-title">Tendering</div>
<a class="menu-item active" data-view="dashboard">
<span class="menu-icon"><i class="pi pi-home"></i></span>
<span>Overview</span>
</a>
<a class="menu-item" data-view="my-tenders">
<span class="menu-icon"><i class="pi pi-file-edit"></i></span>
<span>Tenders</span>
<span class="menu-badge">5</span>
</a>
</div>
</nav>
</aside>

<main class="main-area">
<!-- Quick Actions Bar -->
<div class="quick-actions-bar" id="quick-actions" style="display: none;">
<button class="quick-action-btn" onclick="openTenderDetailsSidebar()">
<span>📖</span>
<span class="quick-action-tooltip">View Tender Details</span>
</button>
<button class="quick-action-btn" onclick="openClarificationsSidebar()">
<span>💬</span>
<span class="quick-action-tooltip">Ask Clarification</span>
</button>
</div>

<!-- Tender Details Sidebar -->
<div class="sidebar-panel" id="tender-details-sidebar">
<div class="sidebar-panel-header">
<div>
<div class="sidebar-panel-title">Tender Details</div>
<div style="font-size: 13px; opacity: 0.9;">UNOPS/ITB/2025/001</div>
</div>
<button class="modal-close" style="color: white;" onclick="closeSidebar('tender-details-sidebar')">×</button>
</div>
<div class="sidebar-panel-body">
<!-- General Information - Collapsible -->
<div class="collapsible-section-compact">
<div class="collapsible-header-compact" onclick="toggleCollapseSidebar(this)">
<span><strong>📋 General Information</strong></span>
<span class="collapsible-icon">▼</span>
</div>
<div class="collapsible-content-compact" style="display: block;">
<div class="info-row">
<div class="info-label">Method</div>
<div class="info-value">ITB - Invitation to Bid</div>
</div>
<div class="info-row">
<div class="info-label">Category</div>
<div class="info-value">Goods</div>
</div>
<div class="info-row">
<div class="info-label">Value</div>
<div class="info-value">$250,000 USD</div>
</div>
<div class="info-row">
<div class="info-label">Deadline</div>
<div class="info-value">15 Jan 2025, 23:59 UTC</div>
</div>
</div>
</div>

<!-- Scope - Collapsible -->
<div class="collapsible-section-compact">
<div class="collapsible-header-compact" onclick="toggleCollapseSidebar(this)">
<span><strong>📝 Scope & Description</strong></span>
<span class="collapsible-icon">▼</span>
</div>
<div class="collapsible-content-compact" style="display: block;">
<p style="font-size: 13px; line-height: 1.6; color: var(--text-secondary);">
Supply and delivery of medical equipment and supplies for healthcare facilities in multiple locations. Equipment must meet international standards and include installation and training services.
</p>
</div>
</div>

<!-- Items Being Purchased - Collapsible -->
<div class="collapsible-section-compact">
<div class="collapsible-header-compact" onclick="toggleCollapseSidebar(this)">
<span><strong>📦 Items & Specifications</strong></span>
<span class="collapsible-icon">▼</span>
</div>
<div class="collapsible-content-compact">
<div class="item-spec-card">
<div class="item-spec-header">
<div style="font-weight: 600; font-size: 13px;">Ultrasound Machines</div>
<div style="font-size: 12px; color: var(--text-muted);">UNSPSC: 42182104</div>
</div>
<div class="item-spec-detail">
<span class="spec-label">Quantity:</span>
<span class="spec-value">5 Units</span>
</div>
<div class="item-spec-detail">
<span class="spec-label">Specifications:</span>
<span class="spec-value">Portable, color doppler, minimum 3 probes</span>
</div>
</div>

<div class="item-spec-card">
<div class="item-spec-header">
<div style="font-weight: 600; font-size: 13px;">Patient Monitors</div>
<div style="font-size: 12px; color: var(--text-muted);">UNSPSC: 42182108</div>
</div>
<div class="item-spec-detail">
<span class="spec-label">Quantity:</span>
<span class="spec-value">20 Units</span>
</div>
<div class="item-spec-detail">
<span class="spec-label">Specifications:</span>
<span class="spec-value">Multi-parameter, ECG, SpO2, NIBP, temperature</span>
</div>
</div>

<div class="item-spec-card">
<div class="item-spec-header">
<div style="font-weight: 600; font-size: 13px;">Surgical Lights</div>
<div style="font-size: 12px; color: var(--text-muted);">UNSPSC: 42192201</div>
</div>
<div class="item-spec-detail">
<span class="spec-label">Quantity:</span>
<span class="spec-value">8 Units</span>
</div>
<div class="item-spec-detail">
<span class="spec-label">Specifications:</span>
<span class="spec-value">LED, mobile, minimum 120,000 lux</span>
</div>
</div>

<div class="item-spec-card">
<div class="item-spec-header">
<div style="font-weight: 600; font-size: 13px;">Anesthesia Machines</div>
<div style="font-size: 12px; color: var(--text-muted);">UNSPSC: 42182101</div>
</div>
<div class="item-spec-detail">
<span class="spec-label">Quantity:</span>
<span class="spec-value">3 Units</span>
</div>
<div class="item-spec-detail">
<span class="spec-label">Specifications:</span>
<span class="spec-value">With ventilator, vaporizers, monitoring system</span>
</div>
</div>
</div>
</div>

<!-- Particulars - Collapsible -->
<div class="collapsible-section-compact">
<div class="collapsible-header-compact" onclick="toggleCollapseSidebar(this)">
<span><strong>⚙️ Tender Particulars</strong></span>
<span class="collapsible-icon">▼</span>
</div>
<div class="collapsible-content-compact">
<div class="info-row">
<div class="info-label">Bid Security</div>
<div class="info-value">Required - $5,000</div>
</div>
<div class="info-row">
<div class="info-label">Performance Security</div>
<div class="info-value">10% of contract value</div>
</div>
<div class="info-row">
<div class="info-label">Advance Payment</div>
<div class="info-value">Allowed - Up to 20%</div>
</div>
<div class="info-row">
<div class="info-label">Liquidated Damages</div>
<div class="info-value">0.5% per week, max 10%</div>
</div>
<div class="info-row">
<div class="info-label">Alternative Offers</div>
<div class="info-value">Allowed</div>
</div>
<div class="info-row">
<div class="info-label">Site Visit</div>
<div class="info-value">Not required</div>
</div>
<div class="info-row">
<div class="info-label">Pre-Bid Meeting</div>
<div class="info-value">Optional - 20 Dec 2024</div>
</div>
</div>
</div>

<!-- Key Dates - Collapsible -->
<div class="collapsible-section-compact">
<div class="collapsible-header-compact" onclick="toggleCollapseSidebar(this)">
<span><strong>📅 Key Dates</strong></span>
<span class="collapsible-icon">▼</span>
</div>
<div class="collapsible-content-compact" style="display: block;">
<div class="timeline">
<div class="timeline-item">
<div class="timeline-date">5 Dec 2024</div>
<div class="timeline-content">Published</div>
</div>
<div class="timeline-item">
<div class="timeline-date">20 Dec 2024</div>
<div class="timeline-content">Pre-Bid Meeting (Optional)</div>
</div>
<div class="timeline-item">
<div class="timeline-date">10 Jan 2025</div>
<div class="timeline-content">Clarification Deadline</div>
</div>
<div class="timeline-item">
<div class="timeline-date">15 Jan 2025</div>
<div class="timeline-content">Submission Deadline</div>
</div>
</div>
</div>
</div>

<!-- Amendments - Collapsible -->
<div class="collapsible-section-compact">
<div class="collapsible-header-compact" onclick="toggleCollapseSidebar(this)">
<span><strong>📝 Amendments</strong></span>
<span class="collapsible-icon">▼</span>
</div>
<div class="collapsible-content-compact">
<div class="amendment-item">
<div class="amendment-header">
<span class="amendment-number">Amendment #1</span>
<span class="amendment-date">18 Dec 2024</span>
</div>
<div class="amendment-content">
<p style="font-size: 12px; line-height: 1.5;">Extended clarification deadline from 5 Jan to 10 Jan 2025. All other terms remain unchanged.</p>
</div>
</div>
<div style="font-size: 12px; color: rgba(255, 255, 255, 0.7); text-align: center; padding: var(--spacing-md); font-style: italic;">
No further amendments
</div>
</div>
</div>

<button class="btn btn-primary" style="width: 100%; margin-top: var(--spacing-lg);" onclick="closeSidebar('tender-details-sidebar'); viewTenderDetails('UNOPS/ITB/2025/001')">
View Full Tender Details
</button>
</div>
</div>

<!-- Clarifications Sidebar -->
<div class="sidebar-panel" id="clarifications-sidebar">
<div class="sidebar-panel-header">
<div>
<div class="sidebar-panel-title">Ask Clarification</div>
<div style="font-size: 13px; opacity: 0.9;">UNOPS/ITB/2025/001</div>
</div>
<button class="modal-close" style="color: white;" onclick="closeSidebar('clarifications-sidebar')">×</button>
</div>
<div class="sidebar-panel-body">
<div class="info-box">
<span class="info-box-icon">ℹ️</span>
<strong>Deadline:</strong> 10 January 2025, 23:59 UTC
</div>

<div class="form-group" style="margin-bottom: var(--spacing-lg);">
<label class="form-label">Related Section <span class="required">*</span></label>
<select class="form-select">
<option>Select section...</option>
<option>General Information</option>
<option>Technical Specifications</option>
<option>Pricing</option>
<option>Other</option>
</select>
</div>

<div class="form-group" style="margin-bottom: var(--spacing-lg);">
<label class="form-label">Your Question <span class="required">*</span></label>
<textarea class="form-textarea" placeholder="Type your clarification question here..." style="min-height: 150px;"></textarea>
</div>

<button class="btn btn-primary" style="width: 100%; margin-bottom: var(--spacing-xl);" onclick="submitClarificationQuick()">
Submit Question
</button>

<hr style="border: none; border-top: 1px solid var(--surface-200); margin: var(--spacing-xl) 0;">

<h4 style="font-size: 14px; font-weight: 600; margin-bottom: var(--spacing-md);">Recent Clarifications</h4>

<div class="clarification-item">
<div class="clarification-header">
<span class="clarification-number">Q #003</span>
<span class="clarification-date">9 Dec 2024</span>
</div>
<div class="clarification-question">
<p style="font-size: 13px;">Can ultrasound machines be from different manufacturers?</p>
</div>
<div class="clarification-answer">
<div class="clarification-label">Answer</div>
<p style="font-size: 13px;">Yes, acceptable if meeting ISO standards.</p>
</div>
</div>
</div>
</div>

<div class="view-container">
<!-- Dashboard View -->
<div class="view-section active" id="view-dashboard">
<div id="main-content-dashboard" class="main-content">
<div class="page-header">
<div>
<h1 class="page-title">Dashboard</h1>
<p class="page-subtitle">Welcome back! Here's an overview of your tender activities</p>
</div>
</div>

<div class="stats-grid">
<div class="stat-card">
<div class="stat-icon">📋</div>
<div class="stat-value">8</div>
<div class="stat-label">Total Tenders</div>
</div>
<div class="stat-card">
<div class="stat-icon">✍️</div>
<div class="stat-value">2</div>
<div class="stat-label">Bids in Progress</div>
</div>
<div class="stat-card">
<div class="stat-icon">📤</div>
<div class="stat-value">3</div>
<div class="stat-label">Bids Submitted</div>
</div>
<div class="stat-card">
<div class="stat-icon">🏆</div>
<div class="stat-value">1</div>
<div class="stat-label">Awarded</div>
</div>
</div>

<div class="card">
<div class="card-header">
<h2 class="card-title">All My Tenders</h2>
<div style="display: flex; gap: var(--spacing-sm); align-items: center;">
<input type="search" placeholder="Search tenders..." style="padding: 8px 12px; border: 1px solid var(--surface-300); border-radius: var(--radius-md); width: 250px; font-size: 14px;">
<select style="padding: 8px 12px; border: 1px solid var(--surface-300); border-radius: var(--radius-md); font-size: 14px;">
<option value="">All Statuses</option>
<option value="open">Open</option>
<option value="submitted">Submitted</option>
<option value="awarded">Awarded</option>
<option value="not-awarded">Not Awarded</option>
<option value="cancelled">Cancelled</option>
</select>
</div>
</div>

<table class="tender-table">
<thead>
<tr>
<th>Reference / Title</th>
<th>Type</th>
<th>Publication</th>
<th>Deadline</th>
<th>Submission Status</th>
<th>Tender Status</th>
<th>Actions</th>
</tr>
</thead>
<tbody>
<tr onclick="viewTenderDetails('UNOPS/ITB/2025/001')">
<td>
<div class="tender-ref">UNOPS/ITB/2025/001</div>
<div class="tender-title-cell">Medical Equipment Supply</div>
</td>
<td><span class="tender-type-badge tender-type-public">Public</span></td>
<td>5 Dec 2024</td>
<td>
<div class="deadline-cell">
<div class="deadline-date">15 Jan 2025</div>
<div class="deadline-remaining deadline-urgent">5 days left</div>
</div>
</td>
<td><span class="status-badge status-in-progress">In Progress</span></td>
<td><span class="status-badge status-open">Open</span></td>
<td><button class="btn btn-primary btn-sm" onclick="event.stopPropagation(); selectTenderForBid('UNOPS/ITB/2025/001')">Continue Bid</button></td>
</tr>
<tr onclick="viewTenderDetails('UNOPS/RFQ/2024/089')">
<td>
<div class="tender-ref">UNOPS/RFQ/2024/089</div>
<div class="tender-title-cell">Office Supplies and Stationery</div>
</td>
<td><span class="tender-type-badge tender-type-limited">Limited</span></td>
<td>15 Oct 2024</td>
<td>
<div class="deadline-cell">
<div class="deadline-date">30 Nov 2024</div>
</div>
</td>
<td><span class="status-badge status-submitted">Submitted</span></td>
<td><span class="status-badge status-awarded">Awarded ✓</span></td>
<td><button class="btn btn-ghost btn-sm" onclick="event.stopPropagation(); viewTenderDetails('UNOPS/RFQ/2024/089')">View Details</button></td>
</tr>
<tr onclick="viewTenderDetails('UNOPS/ITB/2024/072')">
<td>
<div class="tender-ref">UNOPS/ITB/2024/072</div>
<div class="tender-title-cell">IT Infrastructure Services</div>
</td>
<td><span class="tender-type-badge tender-type-public">Public</span></td>
<td>1 Sep 2024</td>
<td>
<div class="deadline-cell">
<div class="deadline-date">15 Oct 2024</div>
</div>
</td>
<td><span class="status-badge status-submitted">Submitted</span></td>
<td><span class="status-badge status-not-awarded">Not Awarded</span></td>
<td><button class="btn btn-ghost btn-sm" onclick="event.stopPropagation(); viewTenderDetails('UNOPS/ITB/2024/072')">View Details</button></td>
</tr>
<tr onclick="viewTenderDetails('UNOPS/RFP/2024/055')">
<td>
<div class="tender-ref">UNOPS/RFP/2024/055</div>
<div class="tender-title-cell">Consulting Services - Project Management</div>
</td>
<td><span class="tender-type-badge tender-type-public">Public</span></td>
<td>20 Aug 2024</td>
<td>
<div class="deadline-cell">
<div class="deadline-date">25 Sep 2024</div>
</div>
</td>
<td><span class="status-badge status-submitted">Submitted</span></td>
<td><span class="status-badge status-cancelled">Cancelled</span></td>
<td><button class="btn btn-ghost btn-sm" onclick="event.stopPropagation(); viewTenderDetails('UNOPS/RFP/2024/055')">View Details</button></td>
</tr>
<tr onclick="viewTenderDetails('UNOPS/ITB/2024/041')">
<td>
<div class="tender-ref">UNOPS/ITB/2024/041</div>
<div class="tender-title-cell">Vehicle Fleet Procurement</div>
</td>
<td><span class="tender-type-badge tender-type-public">Public</span></td>
<td>5 Jul 2024</td>
<td>
<div class="deadline-cell">
<div class="deadline-date">20 Aug 2024</div>
</div>
</td>
<td><span class="status-badge status-submitted">Submitted</span></td>
<td><span class="status-badge status-awarded">Awarded ✓</span></td>
<td><button class="btn btn-ghost btn-sm" onclick="event.stopPropagation(); viewTenderDetails('UNOPS/ITB/2024/041')">View Details</button></td>
</tr>
        </tbody>
        </table>
      </div>

      <!-- Open Procurement Events Section -->
      <div class="card" style="margin-top: var(--spacing-xl);">
        <div class="card-header">
          <div>
            <h2 class="card-title">Open Procurement Events</h2>
            <p style="font-size: 14px; color: var(--text-muted); margin-top: 4px;">Explore new opportunities and express your interest</p>
          </div>
          <div style="display: flex; gap: var(--spacing-sm);">
            <input type="search" placeholder="Search opportunities..." style="padding: 8px 12px; border: 1px solid var(--surface-300); border-radius: var(--radius-md); width: 300px;">
            <select style="padding: 8px 12px; border: 1px solid var(--surface-300); border-radius: var(--radius-md);">
              <option>All Categories</option>
              <option>Goods</option>
              <option>Services</option>
              <option>Works</option>
            </select>
          </div>
        </div>

        <table class="tender-table">
          <thead>
            <tr>
              <th>Reference / Title</th>
              <th>Type</th>
              <th>Category</th>
              <th>Est. Value</th>
              <th>Publication</th>
              <th>Deadline</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr onclick="viewTenderDetails('UNOPS/RFP/2025/015')">
              <td>
                <div class="tender-ref">UNOPS/RFP/2025/015</div>
                <div class="tender-title-cell">IT Infrastructure Services</div>
              </td>
              <td><span class="tender-type-badge tender-type-public">Public</span></td>
              <td>Services</td>
              <td>$500,000</td>
              <td>1 Dec 2024</td>
              <td>
                <div class="deadline-cell">
                  <div class="deadline-date">28 Jan 2025</div>
                  <div class="deadline-remaining">28 days left</div>
                </div>
              </td>
              <td><button class="btn btn-secondary btn-sm" onclick="event.stopPropagation(); expressInterest('UNOPS/RFP/2025/015')">Express Interest</button></td>
            </tr>
            <tr onclick="viewTenderDetails('UNOPS/ITB/2025/002')">
              <td>
                <div class="tender-ref">UNOPS/ITB/2025/002</div>
                <div class="tender-title-cell">Construction Materials Supply</div>
              </td>
              <td><span class="tender-type-badge tender-type-public">Public</span></td>
              <td>Goods</td>
              <td>$1,200,000</td>
              <td>3 Dec 2024</td>
              <td>
                <div class="deadline-cell">
                  <div class="deadline-date">20 Jan 2025</div>
                  <div class="deadline-remaining">20 days left</div>
                </div>
              </td>
              <td><button class="btn btn-secondary btn-sm" onclick="event.stopPropagation(); expressInterest('UNOPS/ITB/2025/002')">Express Interest</button></td>
            </tr>
            <tr onclick="viewTenderDetails('UNOPS/RFQ/2025/033')">
              <td>
                <div class="tender-ref">UNOPS/RFQ/2025/033</div>
                <div class="tender-title-cell">Office Furniture and Equipment</div>
              </td>
              <td><span class="tender-type-badge tender-type-limited">Limited</span></td>
              <td>Goods</td>
              <td>$85,000</td>
              <td>8 Dec 2024</td>
              <td>
                <div class="deadline-cell">
                  <div class="deadline-date">22 Dec 2024</div>
                  <div class="deadline-remaining deadline-urgent">12 days left</div>
                </div>
              </td>
              <td><button class="btn btn-secondary btn-sm" onclick="event.stopPropagation(); expressInterest('UNOPS/RFQ/2025/033')">Express Interest</button></td>
            </tr>
            <tr onclick="viewTenderDetails('UNOPS/ITB/2025/007')">
              <td>
                <div class="tender-ref">UNOPS/ITB/2025/007</div>
                <div class="tender-title-cell">Laboratory Equipment and Supplies</div>
              </td>
              <td><span class="tender-type-badge tender-type-public">Public</span></td>
              <td>Goods</td>
              <td>$350,000</td>
              <td>5 Dec 2024</td>
              <td>
                <div class="deadline-cell">
                  <div class="deadline-date">25 Jan 2025</div>
                  <div class="deadline-remaining">25 days left</div>
                </div>
              </td>
              <td><button class="btn btn-secondary btn-sm" onclick="event.stopPropagation(); expressInterest('UNOPS/ITB/2025/007')">Express Interest</button></td>
            </tr>
            <tr onclick="viewTenderDetails('UNOPS/RFP/2025/019')">
              <td>
                <div class="tender-ref">UNOPS/RFP/2025/019</div>
                <div class="tender-title-cell">Consulting Services - Project Management</div>
              </td>
              <td><span class="tender-type-badge tender-type-public">Public</span></td>
              <td>Services</td>
              <td>$200,000</td>
              <td>10 Dec 2024</td>
              <td>
                <div class="deadline-cell">
                  <div class="deadline-date">5 Feb 2025</div>
                  <div class="deadline-remaining">35 days left</div>
                </div>
              </td>
              <td><button class="btn btn-secondary btn-sm" onclick="event.stopPropagation(); expressInterest('UNOPS/RFP/2025/019')">Express Interest</button></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Tender Details View -->
<div class="view-section" id="view-tender-details">
<div id="main-content-tender-details" class="main-content">
<div class="tender-info-banner">
<div class="tender-banner-ref">Reference: UNOPS/ITB/2025/001</div>
<h2 class="tender-banner-title">Supply and Delivery of Medical Equipment and Supplies</h2>
<div class="tender-meta">
<div class="meta-item">
<span class="meta-label">Type</span>
<span class="meta-value">ITB</span>
</div>
<div class="meta-item">
<span class="meta-label">Category</span>
<span class="meta-value">Goods</span>
</div>
<div class="meta-item">
<span class="meta-label">Value</span>
<span class="meta-value">$250,000 USD</span>
</div>
<div class="meta-item">
<span class="meta-label">Deadline</span>
<span class="meta-value">15 Jan 2025</span>
</div>
<div class="meta-item">
<span class="meta-label">Status</span>
<span class="meta-value">Open</span>
</div>
</div>
</div>

<!-- Tender Timeline Banner -->
<div class="tender-timeline-banner">
  <div class="timeline-banner-header">
    <div class="timeline-banner-status">
      <span class="timeline-status-dot"></span>
      <span class="timeline-status-text">Open for Bidding</span>
</div>
    <div class="timeline-header-right">
      <div class="timeline-remaining">
        <i class="pi pi-clock"></i>
        <span class="timeline-remaining-text">5 days, 14 hours to submission</span>
      </div>
      <button class="btn btn-primary btn-sm" onclick="selectTenderForBid('UNOPS/ITB/2025/001')">
        <i class="pi pi-send" style="font-size: 12px;"></i> Start/Continue Bid
</button>
    </div>
</div>

  <div class="horizontal-timeline">
    <div class="timeline-track">
      <div class="timeline-progress" style="width: 72%;"></div>
      <div class="timeline-today-marker" style="left: 72%;">
        <div class="today-marker-label">Today</div>
        <div class="today-marker-dot"></div>
      </div>
      <div class="timeline-points">
        <div class="timeline-point completed" style="left: 0%;">
          <div class="timeline-point-dot"></div>
          <div class="timeline-point-content">
            <div class="timeline-point-label">Published</div>
            <div class="timeline-point-date">5 Dec</div>
          </div>
        </div>
        <div class="timeline-point completed" style="left: 18%;">
          <div class="timeline-point-dot"></div>
          <div class="timeline-point-content">
            <div class="timeline-point-label">Site Visit</div>
            <div class="timeline-point-date">15 Dec</div>
          </div>
        </div>
        <div class="timeline-point completed" style="left: 55%;">
          <div class="timeline-point-dot"></div>
          <div class="timeline-point-content">
            <div class="timeline-point-label">Clarifications</div>
            <div class="timeline-point-date">10 Jan</div>
          </div>
        </div>
        <div class="timeline-point active" style="left: 80%;">
          <div class="timeline-point-dot"></div>
          <div class="timeline-point-content">
            <div class="timeline-point-label">Submission</div>
            <div class="timeline-point-date">15 Jan</div>
          </div>
        </div>
        <div class="timeline-point future" style="left: 88%;">
          <div class="timeline-point-dot"></div>
          <div class="timeline-point-content">
            <div class="timeline-point-label">Bid Opening</div>
            <div class="timeline-point-date">16 Jan</div>
          </div>
        </div>
        <div class="timeline-point future" style="left: 100%;">
          <div class="timeline-point-dot"></div>
          <div class="timeline-point-content">
            <div class="timeline-point-label">Award</div>
            <div class="timeline-point-date">15 Feb</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div> <!-- End tender-timeline-banner -->

  <!-- Tabs section - inside main-content-tender-details -->
<div class="tender-overview-grid">
    <div class="tender-tabs-container">
  <div class="tender-tabs-nav">
    <button class="tender-tab-btn active" onclick="switchTab('tab-general', this)">
      <i class="pi pi-file"></i> General
    </button>
    <button class="tender-tab-btn" onclick="switchTab('tab-project', this)">
      <i class="pi pi-briefcase"></i> Project
    </button>
    <button class="tender-tab-btn" onclick="switchTab('tab-scope', this)">
      <i class="pi pi-check-square"></i> Scope
    </button>
    <button class="tender-tab-btn" onclick="switchTab('tab-evaluation', this)">
      <i class="pi pi-chart-bar"></i> Evaluation
    </button>
    <button class="tender-tab-btn" onclick="switchTab('tab-content', this)">
      <i class="pi pi-folder-open"></i> Content
    </button>
    <button class="tender-tab-btn" onclick="switchTab('tab-submission', this)">
      <i class="pi pi-upload"></i> Submission <span class="tab-badge">7</span>
    </button>
    <button class="tender-tab-btn" onclick="switchTab('tab-amendments', this)">
      <i class="pi pi-pencil"></i> Amendments <span class="tab-badge">2</span>
    </button>
    <button class="tender-tab-btn" onclick="switchTab('tab-clarifications', this)">
      <i class="pi pi-comments"></i> Clarifications <span class="tab-badge">1</span>
    </button>
  </div>

  <!-- Tab Panel: General Information -->
  <div id="tab-general" class="tender-tab-panel active">
    <div class="info-grid-2col">
<div class="info-row">
        <div class="info-label">Reference</div>
        <div class="info-value">UNOPS/ITB/2025/001</div>
      </div>
                <div class="info-row">
                  <div class="info-label">Title</div>
                  <div class="info-value">Supply and Delivery of Medical Equipment and Supplies</div>
                </div>
                <div class="info-row">
                  <div class="info-label">Sourcing Type</div>
                  <div class="info-value"><span class="status-badge status-info">Solicitation</span></div>
                </div>
                <div class="info-row">
                  <div class="info-label">Event Type</div>
<div class="info-value">ITB - Invitation to Bid</div>
</div>
<div class="info-row">
                  <div class="info-label">Process Type</div>
                  <div class="info-value">Standard solicitation</div>
</div>
<div class="info-row">
                  <div class="info-label">Type of Requirement</div>
                  <div class="info-value"><span class="status-badge status-neutral">Goods</span></div>
</div>
<div class="info-row">
                  <div class="info-label">Beneficiary Countries</div>
                  <div class="info-value">
                    <div class="country-tags">
                      <span class="country-tag">Afghanistan</span>
                      <span class="country-tag">Bangladesh</span>
                      <span class="country-tag">Ethiopia</span>
                    </div>
                  </div>
                </div>
                <div class="info-row">
                  <div class="info-label">Modality of Bid Receipt</div>
                  <div class="info-value">Online Only</div>
                </div>
                <div class="info-row">
                  <div class="info-label">EPP (Emergency Procurement)</div>
                  <div class="info-value">No</div>
                </div>
                <div class="info-row">
                  <div class="info-label">Medicine / Medical Equipment</div>
                  <div class="info-value">Yes</div>
                </div>
                <div class="info-row">
                  <div class="info-label">UN Collaboration</div>
                  <div class="info-value">No</div>
                </div>
                <div class="info-row">
                  <div class="info-label">Bid Validity Period</div>
<div class="info-value">90 days</div>
</div>
</div>
              <div class="info-description-box" style="margin-top: var(--spacing-md);">
        <div class="info-label" style="margin-bottom: var(--spacing-xs);">Description</div>
        <p style="line-height: 1.6; color: var(--text-secondary); margin: 0;">
          UNOPS requires the supply and delivery of medical equipment for healthcare facilities in three countries. The procurement includes diagnostic equipment, patient monitoring systems, surgical lighting, and anesthesia machines. All equipment must meet international quality standards (ISO 13485, CE marking) and include installation, commissioning, and training services.
        </p>
      </div>
    </div>
          </div>

  <!-- Tab Panel: Project & Tender Details -->
  <div id="tab-project" class="tender-tab-panel">
    <div style="font-size: 10px; font-weight: 600; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.03em; margin-bottom: 6px;">Project Information</div>
    <div class="info-grid-2col">
                <div class="info-row">
                  <div class="info-label">Work Package (GLA)</div>
                  <div class="info-value">WP-2025-MED-001</div>
            </div>
                <div class="info-row">
                  <div class="info-label">Donor / Funding Source</div>
                  <div class="info-value">Global Fund for Health Infrastructure</div>
                </div>
                <div class="info-row">
                  <div class="info-label">Project Name</div>
                  <div class="info-value">Healthcare Capacity Building Initiative - Phase II</div>
                </div>
                <div class="info-row">
                  <div class="info-label">Implementation End Date</div>
                  <div class="info-value">31 December 2026</div>
                </div>
                <div class="info-row">
                  <div class="info-label">Organizational Unit</div>
                  <div class="info-value">UNOPS Myanmar Multi-Country Office</div>
                </div>
          </div>

              <div style="font-size: 10px; font-weight: 600; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.03em; margin: var(--spacing-md) 0 6px;">Tender Particulars</div>
              <div class="particulars-grid">
                <div class="particular-item">
                  <div class="particular-label">Bid Security</div>
                  <div class="particular-value">
                    <span class="particular-status required">Required</span>
                    <span class="particular-amount">$5,000 USD</span>
                  </div>
                </div>
                <div class="particular-item">
                  <div class="particular-label">Performance Security</div>
                  <div class="particular-value">
                    <span class="particular-status required">Required</span>
                    <span class="particular-amount">10% of contract value</span>
                  </div>
                </div>
                <div class="particular-item">
                  <div class="particular-label">Advance Payment</div>
                  <div class="particular-value">
                    <span class="particular-status allowed">Allowed</span>
                    <span class="particular-amount">Up to 20%</span>
                  </div>
                </div>
                <div class="particular-item">
                  <div class="particular-label">Advance Payment Security</div>
                  <div class="particular-value">
                    <span class="particular-status required">Required</span>
                    <span class="particular-amount">Bank guarantee for full amount</span>
                  </div>
                </div>
                <div class="particular-item">
                  <div class="particular-label">Liquidated Damages</div>
                  <div class="particular-value">
                    <span class="particular-status applicable">Applicable</span>
                    <span class="particular-amount">0.5% per week, max 10%</span>
                  </div>
                </div>
                <div class="particular-item">
                  <div class="particular-label">Alternative Offers</div>
                  <div class="particular-value">
                    <span class="particular-status allowed">Allowed</span>
                  </div>
                </div>
                <div class="particular-item">
                  <div class="particular-label">Partial Quotations / Lots</div>
                  <div class="particular-value">
                    <span class="particular-status allowed">Allowed</span>
                    <span class="particular-amount">3 Lots available</span>
                  </div>
                </div>
                <div class="particular-item">
                  <div class="particular-label">Site Visit</div>
                  <div class="particular-value">
                    <span class="particular-status not-required">Not Required</span>
                  </div>
                </div>
                <div class="particular-item">
                  <div class="particular-label">Pre-Bid Meeting</div>
                  <div class="particular-value">
                    <span class="particular-status optional">Optional</span>
                    <span class="particular-amount">20 Dec 2024, 10:00 AM UTC (Virtual)</span>
                  </div>
                </div>
                <div class="particular-item">
          <div class="particular-label">Clarification Period</div>
          <div class="particular-value">
            <span class="particular-amount">Until 10 January 2025, 23:59 UTC</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Tab Panel: Scope & Requirements -->
  <div id="tab-scope" class="tender-tab-panel">
    <div style="font-size: 10px; font-weight: 600; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.03em; margin-bottom: 6px;">Scope and Objectives</div>
    <div class="info-description-box" style="margin-bottom: var(--spacing-sm);">
                <p style="line-height: 1.6; color: var(--text-secondary); margin: 0;">
                  The objective of this solicitation is to procure high-quality medical equipment for healthcare facilities in Afghanistan, Bangladesh, and Ethiopia as part of the Healthcare Capacity Building Initiative. The supplier shall provide complete solutions including equipment delivery, installation, commissioning, user training, and warranty services. All products must be manufactured in accordance with international standards and obtain necessary certifications for medical devices.
                </p>
              </div>

              <div style="font-size: 10px; font-weight: 600; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.03em; margin-bottom: 6px;">Product Requirements & Specifications (UNSPSC Codes)</div>
              <p style="font-size: 11px; color: var(--text-muted); margin-bottom: var(--spacing-sm);">
                Click on each item to view detailed requirements including attributes, required attachments, and descriptions.
              </p>

              <!-- UNSPSC Item 1: Ultrasound Machines -->
            <div class="collapsible-item-card">
              <div class="collapsible-item-header" onclick="toggleItemCard(this, event)">
                <div style="flex: 1;">
                    <div class="unspsc-header">
                      <span class="unspsc-code">42182104</span>
                      <span class="unspsc-category">Medical diagnostic equipment</span>
                    </div>
                    <div style="font-weight: 600; font-size: 15px; margin: 4px 0;">Ultrasound Machines - Portable Systems</div>
                    <div style="font-size: 12px; color: var(--text-muted);">Quantity: 5 Units • Lot 1: Diagnostic Equipment</div>
                </div>
                <span class="collapsible-arrow">▼</span>
              </div>
              <div class="collapsible-item-content">
                  <div class="requirement-section">
                    <div class="requirement-section-title"><i class="pi pi-list"></i> Attributes / Specifications</div>
                    <div class="attributes-table">
                      <div class="attribute-row">
                        <span class="attribute-name">Type</span>
                        <span class="attribute-value">Portable Ultrasound System</span>
                </div>
                      <div class="attribute-row">
                        <span class="attribute-name">Display</span>
                        <span class="attribute-value">Color Doppler with minimum 15" LED monitor</span>
                </div>
                      <div class="attribute-row">
                        <span class="attribute-name">Probes</span>
                        <span class="attribute-value">Minimum 3 probes (Convex, Linear, Phased Array)</span>
                </div>
                      <div class="attribute-row">
                        <span class="attribute-name">Imaging Capability</span>
                        <span class="attribute-value">3D/4D imaging capability</span>
                </div>
                      <div class="attribute-row">
                        <span class="attribute-name">Connectivity</span>
                        <span class="attribute-value">DICOM compatible</span>
                </div>
                      <div class="attribute-row">
                        <span class="attribute-name">Power</span>
                        <span class="attribute-value">Battery backup included</span>
                </div>
                      <div class="attribute-row">
                        <span class="attribute-name">Warranty</span>
                        <span class="attribute-value">Minimum 2 years parts and labor</span>
                      </div>
                      <div class="attribute-row">
                        <span class="attribute-name">Delivery</span>
                        <span class="attribute-value">Within 90 days of contract signing</span>
                      </div>
                    </div>
                  </div>
                  <div class="requirement-section">
                    <div class="requirement-section-title"><i class="pi pi-paperclip"></i> Required Attachments</div>
                    <div class="attachment-requirements">
                      <div class="attachment-req-item">
                        <span class="attachment-req-icon">📄</span>
                        <span class="attachment-req-name">CE/FDA Certificate</span>
                        <span class="attachment-req-status mandatory">Mandatory</span>
                      </div>
                      <div class="attachment-req-item">
                        <span class="attachment-req-icon">📄</span>
                        <span class="attachment-req-name">Product Technical Datasheet</span>
                        <span class="attachment-req-status mandatory">Mandatory</span>
                      </div>
                      <div class="attachment-req-item">
                        <span class="attachment-req-icon">📄</span>
                        <span class="attachment-req-name">Product Brochure</span>
                        <span class="attachment-req-status optional">Optional</span>
                      </div>
                    </div>
                  </div>
                  <div class="requirement-section">
                    <div class="requirement-section-title"><i class="pi pi-align-left"></i> Additional Description</div>
                    <p class="requirement-description">
                      Bidders must provide portable ultrasound systems suitable for use in resource-limited healthcare settings. Systems must be robust, easy to maintain, and capable of operating in hot and humid climates. Supplier must provide comprehensive training for medical staff (minimum 3 days on-site training per facility).
                    </p>
                  </div>
              </div>
            </div>

              <!-- UNSPSC Item 2: Patient Monitors -->
            <div class="collapsible-item-card">
              <div class="collapsible-item-header" onclick="toggleItemCard(this, event)">
                <div style="flex: 1;">
                    <div class="unspsc-header">
                      <span class="unspsc-code">42182108</span>
                      <span class="unspsc-category">Patient monitoring systems</span>
                    </div>
                    <div style="font-weight: 600; font-size: 15px; margin: 4px 0;">Multi-Parameter Patient Monitors</div>
                    <div style="font-size: 12px; color: var(--text-muted);">Quantity: 20 Units • Lot 1: Diagnostic Equipment</div>
                </div>
                <span class="collapsible-arrow">▼</span>
              </div>
              <div class="collapsible-item-content">
                  <div class="requirement-section">
                    <div class="requirement-section-title"><i class="pi pi-list"></i> Attributes / Specifications</div>
                    <div class="attributes-table">
                      <div class="attribute-row">
                        <span class="attribute-name">Type</span>
                        <span class="attribute-value">Multi-Parameter Patient Monitor</span>
                </div>
                      <div class="attribute-row">
                        <span class="attribute-name">Display</span>
                        <span class="attribute-value">Minimum 12" TFT color LCD touchscreen</span>
                </div>
                      <div class="attribute-row">
                        <span class="attribute-name">Parameters</span>
                        <span class="attribute-value">ECG (3/5/12 lead), SpO2, NIBP, Temperature, Respiration Rate</span>
                </div>
                      <div class="attribute-row">
                        <span class="attribute-name">Optional Parameters</span>
                        <span class="attribute-value">IBP (Invasive Blood Pressure)</span>
                </div>
                      <div class="attribute-row">
                        <span class="attribute-name">Battery</span>
                        <span class="attribute-value">Built-in rechargeable, minimum 4 hours runtime</span>
                </div>
                      <div class="attribute-row">
                        <span class="attribute-name">Alarms</span>
                        <span class="attribute-value">Visual and audible with adjustable limits</span>
                </div>
                      <div class="attribute-row">
                        <span class="attribute-name">Warranty</span>
                        <span class="attribute-value">Minimum 2 years parts and labor</span>
                      </div>
                    </div>
                  </div>
                  <div class="requirement-section">
                    <div class="requirement-section-title"><i class="pi pi-paperclip"></i> Required Attachments</div>
                    <div class="attachment-requirements">
                      <div class="attachment-req-item">
                        <span class="attachment-req-icon">📄</span>
                        <span class="attachment-req-name">ISO 13485 Certificate</span>
                        <span class="attachment-req-status mandatory">Mandatory</span>
                      </div>
                      <div class="attachment-req-item">
                        <span class="attachment-req-icon">📄</span>
                        <span class="attachment-req-name">CE Marking Certificate</span>
                        <span class="attachment-req-status mandatory">Mandatory</span>
                      </div>
                      <div class="attachment-req-item">
                        <span class="attachment-req-icon">📄</span>
                        <span class="attachment-req-name">Technical Specifications Sheet</span>
                        <span class="attachment-req-status mandatory">Mandatory</span>
                      </div>
                    </div>
                  </div>
                  <div class="requirement-section">
                    <div class="requirement-section-title"><i class="pi pi-align-left"></i> Additional Description</div>
                    <p class="requirement-description">
                      Patient monitors must be suitable for critical care environments including ICU, operating theaters, and emergency departments. Equipment must support networking capabilities for central monitoring stations. Supplier to provide user manuals in English and local languages.
                    </p>
                </div>
              </div>
            </div>

              <!-- UNSPSC Item 3: Surgical Lights -->
            <div class="collapsible-item-card">
              <div class="collapsible-item-header" onclick="toggleItemCard(this, event)">
                <div style="flex: 1;">
                    <div class="unspsc-header">
                      <span class="unspsc-code">42192201</span>
                      <span class="unspsc-category">Surgical lighting equipment</span>
                    </div>
                    <div style="font-weight: 600; font-size: 15px; margin: 4px 0;">LED Surgical Operating Lights</div>
                    <div style="font-size: 12px; color: var(--text-muted);">Quantity: 8 Units • Lot 2: Surgical Equipment</div>
                </div>
                <span class="collapsible-arrow">▼</span>
              </div>
              <div class="collapsible-item-content">
                  <div class="requirement-section">
                    <div class="requirement-section-title"><i class="pi pi-list"></i> Attributes / Specifications</div>
                    <div class="attributes-table">
                      <div class="attribute-row">
                        <span class="attribute-name">Type</span>
                        <span class="attribute-value">LED Surgical Operating Light, Mobile</span>
                </div>
                      <div class="attribute-row">
                        <span class="attribute-name">Illumination</span>
                        <span class="attribute-value">Minimum 120,000 lux at 1m distance</span>
                </div>
                      <div class="attribute-row">
                        <span class="attribute-name">Color Temperature</span>
                        <span class="attribute-value">4000-5000K, adjustable</span>
                </div>
                      <div class="attribute-row">
                        <span class="attribute-name">LED Lifespan</span>
                        <span class="attribute-value">Minimum 50,000 hours</span>
                </div>
                      <div class="attribute-row">
                        <span class="attribute-name">Mobility</span>
                        <span class="attribute-value">Floor mounted with wheels, brake system, 360° rotation</span>
                </div>
                      <div class="attribute-row">
                        <span class="attribute-name">Warranty</span>
                        <span class="attribute-value">Minimum 3 years parts and labor</span>
                </div>
                    </div>
                  </div>
                  <div class="requirement-section">
                    <div class="requirement-section-title"><i class="pi pi-paperclip"></i> Required Attachments</div>
                    <div class="attachment-requirements">
                      <div class="attachment-req-item">
                        <span class="attachment-req-icon">📄</span>
                        <span class="attachment-req-name">IEC 60601-2-41 Compliance Certificate</span>
                        <span class="attachment-req-status mandatory">Mandatory</span>
                      </div>
                      <div class="attachment-req-item">
                        <span class="attachment-req-icon">📄</span>
                        <span class="attachment-req-name">Technical Datasheet</span>
                        <span class="attachment-req-status mandatory">Mandatory</span>
                      </div>
                    </div>
                </div>
              </div>
            </div>

              <!-- UNSPSC Item 4: Anesthesia Machines -->
            <div class="collapsible-item-card">
              <div class="collapsible-item-header" onclick="toggleItemCard(this, event)">
                <div style="flex: 1;">
                    <div class="unspsc-header">
                      <span class="unspsc-code">42182101</span>
                      <span class="unspsc-category">Anesthesia delivery equipment</span>
                    </div>
                    <div style="font-weight: 600; font-size: 15px; margin: 4px 0;">Advanced Anesthesia Workstations</div>
                    <div style="font-size: 12px; color: var(--text-muted);">Quantity: 3 Units • Lot 3: Anesthesia Equipment</div>
                </div>
                <span class="collapsible-arrow">▼</span>
              </div>
              <div class="collapsible-item-content">
                  <div class="requirement-section">
                    <div class="requirement-section-title"><i class="pi pi-list"></i> Attributes / Specifications</div>
                    <div class="attributes-table">
                      <div class="attribute-row">
                        <span class="attribute-name">Type</span>
                        <span class="attribute-value">Advanced Anesthesia Workstation</span>
                </div>
                      <div class="attribute-row">
                        <span class="attribute-name">Ventilator</span>
                        <span class="attribute-value">Integrated with volume and pressure control modes</span>
                </div>
                      <div class="attribute-row">
                        <span class="attribute-name">Vaporizers</span>
                        <span class="attribute-value">Minimum 2 agent-specific (Sevoflurane, Isoflurane)</span>
                </div>
                      <div class="attribute-row">
                        <span class="attribute-name">Monitoring</span>
                        <span class="attribute-value">Integrated O2, CO2, agent concentration, pressure, flow</span>
                </div>
                      <div class="attribute-row">
                        <span class="attribute-name">Display</span>
                        <span class="attribute-value">15" color touchscreen with waveform display</span>
                </div>
                      <div class="attribute-row">
                        <span class="attribute-name">Standards</span>
                        <span class="attribute-value">ISO 80601-2-13 compliant</span>
                </div>
                      <div class="attribute-row">
                        <span class="attribute-name">Warranty</span>
                        <span class="attribute-value">Minimum 2 years parts and labor</span>
                </div>
                </div>
              </div>
                  <div class="requirement-section">
                    <div class="requirement-section-title"><i class="pi pi-paperclip"></i> Required Attachments</div>
                    <div class="attachment-requirements">
                      <div class="attachment-req-item">
                        <span class="attachment-req-icon">📄</span>
                        <span class="attachment-req-name">ISO 80601-2-13 Compliance Certificate</span>
                        <span class="attachment-req-status mandatory">Mandatory</span>
            </div>
                      <div class="attachment-req-item">
                        <span class="attachment-req-icon">📄</span>
                        <span class="attachment-req-name">CE/FDA Certificate</span>
                        <span class="attachment-req-status mandatory">Mandatory</span>
            </div>
                      <div class="attachment-req-item">
                        <span class="attachment-req-icon">📄</span>
                        <span class="attachment-req-name">Installation Requirements Document</span>
                        <span class="attachment-req-status mandatory">Mandatory</span>
          </div>
                      <div class="attachment-req-item">
                        <span class="attachment-req-icon">📄</span>
                        <span class="attachment-req-name">Training Curriculum Proposal</span>
                        <span class="attachment-req-status optional">Optional</span>
            </div>
            </div>
            </div>
                  <div class="requirement-section">
                    <div class="requirement-section-title"><i class="pi pi-align-left"></i> Additional Description</div>
                    <p class="requirement-description">
                      Anesthesia machines must be suitable for general surgery and specialized procedures. Supplier must provide comprehensive training for anesthesiologists and biomedical technicians (minimum 5 days). Equipment must include all necessary accessories and consumables for initial setup.
                    </p>
            </div>
            </div>
            </div>

              <div style="font-size: 10px; font-weight: 600; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.03em; margin: var(--spacing-md) 0 6px;">Other Requirements</div>
              <div class="other-requirements-list">
                <div class="other-req-item">
                  <i class="pi pi-check-circle" style="color: var(--success-500);"></i>
                  <span>All equipment must be new and unused (no refurbished items)</span>
            </div>
                <div class="other-req-item">
                  <i class="pi pi-check-circle" style="color: var(--success-500);"></i>
                  <span>Manufacturer's warranty must be valid in all three beneficiary countries</span>
            </div>
                <div class="other-req-item">
                  <i class="pi pi-check-circle" style="color: var(--success-500);"></i>
                  <span>Supplier must provide spare parts availability guarantee for minimum 5 years</span>
            </div>
                <div class="other-req-item">
                  <i class="pi pi-check-circle" style="color: var(--success-500);"></i>
                  <span>Technical support must be available via phone/email in English</span>
            </div>
                <div class="other-req-item">
          <i class="pi pi-check-circle" style="color: var(--success-500);"></i>
          <span>Equipment operating voltage: 220-240V / 50Hz</span>
            </div>
          </div>
    </div>
   <!-- End tab-scope -->

  <!-- Tab Panel: Evaluation -->
  <div id="tab-evaluation" class="tender-tab-panel">
    <div style="font-size: 10px; font-weight: 600; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.03em; margin-bottom: 6px;">Evaluation Method</div>
    <div class="evaluation-method-card">
      <div class="eval-method-header">
        <span class="eval-method-badge">Lowest Price</span>
        <span class="eval-method-title">Lowest Evaluated Substantially Responsive Bid</span>
            </div>
      <p class="eval-method-description">
        Technical evaluation on a pass/fail basis followed by financial comparison of technically compliant bids. The contract will be awarded to the bidder with the lowest evaluated price among substantially responsive offers.
            </p>
            </div>
    <div style="font-size: 10px; font-weight: 600; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.03em; margin: var(--spacing-md) 0 6px;">Evaluation Criteria</div>
    <!-- Eligibility & Formal Criteria -->
    <div class="eval-criteria-group">
      <div class="eval-criteria-group-header">
        <span class="criteria-group-badge eligibility">Eligibility & Formal</span>
        <span class="criteria-group-type">Pass/Fail</span>
          </div>
      <div class="eval-criteria-table">
        <div class="eval-criteria-row">
          <div class="criteria-id">EF-001</div>
          <div class="criteria-details">
            <div class="criteria-name">Bidder's nationality check</div>
            <div class="criteria-desc">Verification of bidder nationality against eligible countries list</div>
            </div>
          <div class="criteria-scope">Entire Tender</div>
            </div>
        <div class="eval-criteria-row">
          <div class="criteria-id">EF-002</div>
          <div class="criteria-details">
            <div class="criteria-name">Registration completeness</div>
            <div class="criteria-desc">Valid UNGM registration with complete company profile</div>
          </div>
          <div class="criteria-scope">Entire Tender</div>
        </div>
        <div class="eval-criteria-row">
          <div class="criteria-id">EF-003</div>
          <div class="criteria-details">
            <div class="criteria-name">Bid submission form completeness</div>
            <div class="criteria-desc">All mandatory forms submitted and properly signed</div>
          </div>
          <div class="criteria-scope">Entire Tender</div>
        </div>
        <div class="eval-criteria-row">
          <div class="criteria-id">EF-004</div>
          <div class="criteria-details">
            <div class="criteria-name">Bid security submission</div>
            <div class="criteria-desc">Valid bid security of $5,000 USD submitted</div>
          </div>
          <div class="criteria-scope">Entire Tender</div>
        </div>
      </div>
    </div>
    <!-- Technical Criteria -->
    <div class="eval-criteria-group">
      <div class="eval-criteria-group-header">
        <span class="criteria-group-badge technical">Technical</span>
        <span class="criteria-group-type">Pass/Fail</span>
      </div>
      <div class="eval-criteria-table">
        <div class="eval-criteria-row">
          <div class="criteria-id">TC-001</div>
          <div class="criteria-details">
            <div class="criteria-name">Technical specifications compliance</div>
            <div class="criteria-desc">Products meet all mandatory technical specifications</div>
          </div>
          <div class="criteria-scope">Per Lot</div>
        </div>
        <div class="eval-criteria-row">
          <div class="criteria-id">TC-002</div>
          <div class="criteria-details">
            <div class="criteria-name">Quality certifications</div>
            <div class="criteria-desc">Valid ISO 13485 and CE/FDA certifications provided</div>
          </div>
          <div class="criteria-scope">Per Lot</div>
        </div>
        <div class="eval-criteria-row">
          <div class="criteria-id">TC-003</div>
          <div class="criteria-details">
            <div class="criteria-name">Warranty requirements</div>
            <div class="criteria-desc">Minimum warranty period as specified per item category</div>
          </div>
          <div class="criteria-scope">Per Lot</div>
        </div>
        <div class="eval-criteria-row">
          <div class="criteria-id">TC-004</div>
          <div class="criteria-details">
            <div class="criteria-name">Delivery timeline compliance</div>
            <div class="criteria-desc">Proposed delivery within specified timeframes</div>
          </div>
          <div class="criteria-scope">Entire Tender</div>
        </div>
        <div class="eval-criteria-row">
          <div class="criteria-id">TC-005</div>
          <div class="criteria-details">
            <div class="criteria-name">After-sales support capability</div>
            <div class="criteria-desc">Demonstrated capacity for training, installation, and maintenance</div>
          </div>
          <div class="criteria-scope">Entire Tender</div>
        </div>
      </div>
    </div>
    <!-- Financial Criteria -->
    <div class="eval-criteria-group">
      <div class="eval-criteria-group-header">
        <span class="criteria-group-badge financial">Financial</span>
        <span class="criteria-group-type">Comparative</span>
      </div>
      <div class="eval-criteria-table">
        <div class="eval-criteria-row">
          <div class="criteria-id">FC-001</div>
          <div class="criteria-details">
            <div class="criteria-name">Total evaluated price</div>
            <div class="criteria-desc">Lowest total price including delivery, installation, training, and warranty</div>
          </div>
          <div class="criteria-scope">Per Lot / Entire</div>
        </div>
        <div class="eval-criteria-row">
          <div class="criteria-id">FC-002</div>
          <div class="criteria-details">
            <div class="criteria-name">Price reasonableness</div>
            <div class="criteria-desc">Prices aligned with market rates and not abnormally low</div>
          </div>
          <div class="criteria-scope">Entire Tender</div>
        </div>
      </div>
    </div>
    <div class="evaluation-note">
      <i class="pi pi-info-circle"></i>
      <span>Bids must pass all Eligibility & Formal and Technical criteria to proceed to financial evaluation. Award will be made to the lowest priced technically compliant bid.</span>
    </div>
  </div>

  <!-- Tab Panel: Content -->
  <div id="tab-content" class="tender-tab-panel">
    <p style="font-size: 11px; color: var(--text-muted); margin-bottom: var(--spacing-sm);">Tender documents, instructions, and contract templates</p>
              <div style="font-size: 12px; font-weight: 600; color: var(--text-muted); text-transform: uppercase; margin-bottom: var(--spacing-sm);">Tender Documentation</div>
              <div class="document-download-list">
                <div class="document-download-item">
                  <div class="document-info">
                    <span class="document-icon">📄</span>
                    <div>
                      <div class="document-name">Instructions to Bidders (ITB)</div>
                      <div class="document-meta">PDF • 2.4 MB • Updated 5 Dec 2024</div>
                    </div>
                  </div>
                  <div class="document-actions">
                    <button class="btn btn-ghost btn-sm" onclick="event.stopPropagation(); alert('Opening document viewer...')">👁️ View</button>
                    <button class="btn btn-ghost btn-sm" onclick="event.stopPropagation();">⬇️ Download</button>
                  </div>
                </div>
                <div class="document-download-item">
                  <div class="document-info">
                    <span class="document-icon">📄</span>
                    <div>
                      <div class="document-name">Technical Specifications</div>
                      <div class="document-meta">PDF • 1.8 MB • Updated 5 Dec 2024</div>
                    </div>
                  </div>
                  <div class="document-actions">
                    <button class="btn btn-ghost btn-sm" onclick="event.stopPropagation(); alert('Opening document viewer...')">👁️ View</button>
                    <button class="btn btn-ghost btn-sm" onclick="event.stopPropagation();">⬇️ Download</button>
                  </div>
                </div>
                <div class="document-download-item">
                  <div class="document-info">
                    <span class="document-icon">📊</span>
                    <div>
                      <div class="document-name">Bill of Quantities</div>
                      <div class="document-meta">Excel • 156 KB • Updated 5 Dec 2024</div>
                    </div>
                  </div>
                  <div class="document-actions">
                    <button class="btn btn-ghost btn-sm" onclick="event.stopPropagation(); alert('Opening document viewer...')">👁️ View</button>
                    <button class="btn btn-ghost btn-sm" onclick="event.stopPropagation();">⬇️ Download</button>
                  </div>
                </div>
                <div class="document-download-item">
                  <div class="document-info">
                    <span class="document-icon">📄</span>
                    <div>
                      <div class="document-name">Returnable Bidding Forms</div>
                      <div class="document-meta">PDF • 890 KB • Updated 5 Dec 2024</div>
                    </div>
                  </div>
                  <div class="document-actions">
                    <button class="btn btn-ghost btn-sm" onclick="event.stopPropagation(); alert('Opening document viewer...')">👁️ View</button>
                    <button class="btn btn-ghost btn-sm" onclick="event.stopPropagation();">⬇️ Download</button>
                  </div>
                </div>
              </div>

              <div style="font-size: 12px; font-weight: 600; color: var(--text-muted); text-transform: uppercase; margin: var(--spacing-lg) 0 var(--spacing-sm);">Contract Documents</div>
              <div class="document-download-list">
                <div class="document-download-item">
                  <div class="document-info">
                    <span class="document-icon">📜</span>
                    <div>
                      <div class="document-name">General Conditions of Contract (GCC)</div>
                      <div class="document-meta">PDF • 1.2 MB</div>
                    </div>
                  </div>
                  <div class="document-actions">
                    <button class="btn btn-ghost btn-sm" onclick="event.stopPropagation(); alert('Opening document viewer...')">👁️ View</button>
                    <button class="btn btn-ghost btn-sm" onclick="event.stopPropagation();">⬇️ Download</button>
                  </div>
                </div>
                <div class="document-download-item">
                  <div class="document-info">
                    <span class="document-icon">📜</span>
                    <div>
                      <div class="document-name">Special Conditions of Contract (SCC)</div>
                      <div class="document-meta">PDF • 450 KB</div>
                    </div>
                  </div>
                  <div class="document-actions">
                    <button class="btn btn-ghost btn-sm" onclick="event.stopPropagation(); alert('Opening document viewer...')">👁️ View</button>
                    <button class="btn btn-ghost btn-sm" onclick="event.stopPropagation();">⬇️ Download</button>
                  </div>
                </div>
                <div class="document-download-item">
                  <div class="document-info">
                    <span class="document-icon">📜</span>
                    <div>
                      <div class="document-name">Contract Agreement Template</div>
                      <div class="document-meta">PDF • 320 KB</div>
                    </div>
                  </div>
                  <div class="document-actions">
                    <button class="btn btn-ghost btn-sm" onclick="event.stopPropagation(); alert('Opening document viewer...')">👁️ View</button>
                    <button class="btn btn-ghost btn-sm" onclick="event.stopPropagation();">⬇️ Download</button>
                </div>
              </div>
            </div>
          </div>


  <!-- Tab Panel: Submission Requirements -->
  <div id="tab-submission" class="tender-tab-panel">
    <div class="submission-form-list">
      <div class="submission-form-item">
        <div class="submission-form-header">
          <div class="submission-form-name"><i class="pi pi-users"></i>Form A: JV Partner Info</div>
          <span class="form-status-badge conditional">If JV</span>
            </div>
        <div class="attachment-summary">
          <span class="attachment-count required"><i class="pi pi-paperclip"></i> 2 docs</span>
        </div>
      </div>
      <div class="submission-form-item">
        <div class="submission-form-header">
          <div class="submission-form-name"><i class="pi pi-file-edit"></i>Form B: Bid Submission</div>
          <span class="form-status-badge required">Required</span>
        </div>
        <div class="attachment-summary">
          <span class="attachment-count required"><i class="pi pi-paperclip"></i> 1 doc</span>
          <span class="attachment-count from-profile"><i class="pi pi-star-fill"></i> 2 from profile</span>
        </div>
      </div>
      <div class="submission-form-item">
        <div class="submission-form-header">
          <div class="submission-form-name"><i class="pi pi-dollar"></i>Form C: Price Schedule</div>
          <span class="form-status-badge required">Required</span>
        </div>
        <div class="attachment-summary">
          <span class="attachment-count required"><i class="pi pi-paperclip"></i> 1 doc</span>
        </div>
      </div>
      <div class="submission-form-item">
        <div class="submission-form-header">
          <div class="submission-form-name"><i class="pi pi-cog"></i>Form D: Technical Bid</div>
          <span class="form-status-badge required">Required</span>
        </div>
        <div class="attachment-summary">
          <span class="attachment-count required"><i class="pi pi-paperclip"></i> 3 docs</span>
        </div>
      </div>
      <div class="submission-form-item">
        <div class="submission-form-header">
          <div class="submission-form-name"><i class="pi pi-chart-line"></i>Form G: Performance</div>
          <span class="form-status-badge required">Required</span>
        </div>
        <div class="attachment-summary">
          <span class="attachment-count from-profile"><i class="pi pi-star-fill"></i> 1 from profile</span>
        </div>
      </div>
      <div class="submission-form-item">
        <div class="submission-form-header">
          <div class="submission-form-name"><i class="pi pi-check-square"></i>Form H: Self Disclosure</div>
          <span class="form-status-badge required">Required</span>
        </div>
        <div class="attachment-summary">
          <span style="color: var(--text-muted); font-size: 11px;">No attachments</span>
        </div>
      </div>
      <div class="submission-form-item">
        <div class="submission-form-header">
          <div class="submission-form-name"><i class="pi pi-shield"></i>DRiVE Assessment</div>
          <span class="form-status-badge required">Required</span>
        </div>
        <div class="attachment-summary">
          <span class="attachment-count required"><i class="pi pi-paperclip"></i> 1 doc</span>
          <span class="attachment-count from-profile"><i class="pi pi-star-fill"></i> 1 from profile</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Tab Panel: Amendments -->
  <div id="tab-amendments" class="tender-tab-panel">
            <div class="amendment-list">
              <div class="amendment-card">
                <div class="amendment-header-card">
                  <span class="amendment-badge"><i class="pi pi-pencil" style="font-size: 9px; margin-right: 4px;"></i>Amendment #2</span>
                  <span class="amendment-date-card">18 Dec 2024</span>
                </div>
                <div class="amendment-title">Clarification Deadline Extension</div>
                <p class="amendment-description">The clarification deadline has been extended from 5 January 2025 to 10 January 2025.</p>
                <div class="amendment-actions">
                  <button class="btn btn-link btn-sm"><i class="pi pi-file" style="font-size: 11px;"></i> View Notice</button>
                </div>
              </div>
              <div class="amendment-card">
                <div class="amendment-header-card">
                  <span class="amendment-badge"><i class="pi pi-pencil" style="font-size: 9px; margin-right: 4px;"></i>Amendment #1</span>
                  <span class="amendment-date-card">12 Dec 2024</span>
                </div>
                <div class="amendment-title">Technical Specification Update</div>
                <p class="amendment-description">Updated specifications for Patient Monitors (Item 2) - IBP monitoring now optional.</p>
                <div class="amendment-actions">
            <button class="btn btn-link btn-sm"><i class="pi pi-file" style="font-size: 11px;"></i> View Notice</button>
            <button class="btn btn-link btn-sm"><i class="pi pi-list" style="font-size: 11px;"></i> View Specs</button>
              </div>
            </div>
            </div>
          </div>


  <!-- Tab Panel: Clarifications -->
  <div id="tab-clarifications" class="tender-tab-panel">
    <div style="display: flex; justify-content: flex-end; margin-bottom: var(--spacing-sm);">
      <button class="btn btn-link btn-sm" onclick="openModal('ask-clarification-modal')"><i class="pi pi-plus" style="font-size: 10px;"></i> Ask a Question</button>
</div>
<div class="clarification-item">
<div class="clarification-header">
        <span class="clarification-number"><i class="pi pi-question-circle" style="font-size: 10px; margin-right: 4px;"></i>Q #003</span>
<span class="clarification-date">9 Dec 2024</span>
</div>
<div class="clarification-question">
        <div class="clarification-label"><i class="pi pi-question" style="font-size: 9px; margin-right: 3px;"></i>Question</div>
        <p>Can ultrasound machines be from different manufacturers?</p>
</div>
<div class="clarification-answer">
        <div class="clarification-label"><i class="pi pi-check" style="font-size: 9px; margin-right: 3px;"></i>Answer</div>
        <p>Yes, acceptable if meeting ISO standards.</p>
</div>
</div>
  </div> <!-- End tab-clarifications -->
    </div> <!-- End tender-tabs-container -->
  </div> <!-- End tender-overview-grid -->

  <!-- Sidebar hidden - all content now in tabs -->
  <div class="overview-sidebar" style="display: none;">
<div class="overview-section">
<h3 class="overview-section-title">
<i class="pi pi-calendar overview-section-icon"></i>
Key Dates
</h3>
<div class="timeline">
<div class="timeline-item">
<div class="timeline-date">5 Dec 2024</div>
<div class="timeline-content">Published</div>
</div>
<div class="timeline-item">
<div class="timeline-date">10 Jan 2025</div>
<div class="timeline-content">Clarification Deadline</div>
</div>
<div class="timeline-item">
<div class="timeline-date">15 Jan 2025</div>
<div class="timeline-content">Submission Deadline</div>
</div>
</div>
</div>

<div class="overview-section">
<h3 class="overview-section-title">
<i class="pi pi-upload overview-section-icon"></i>
Submission Requirements
</h3>
<div class="info-box-compact">
<i class="pi pi-star-fill" style="color: var(--success-500);"></i>
<span>= auto-filled from profile</span>
</div>

<div class="submission-summary-compact">
  <span><i class="pi pi-file-edit"></i> 7 forms</span>
  <span class="divider">•</span>
  <span><i class="pi pi-paperclip"></i> 12 docs</span>
  <span class="divider">•</span>
  <span class="from-profile"><i class="pi pi-star-fill"></i> 4 auto</span>
</div>

<div class="submission-form-list">
<div class="submission-form-item">
<div class="submission-form-header">
  <div class="submission-form-name"><i class="pi pi-users"></i>Form A: JV Partner Info</div>
  <span class="form-status-badge conditional">If JV</span>
</div>
<div class="attachment-summary">
  <span class="attachment-count required"><i class="pi pi-paperclip"></i> 2 docs</span>
</div>
</div>

<div class="submission-form-item">
<div class="submission-form-header">
  <div class="submission-form-name"><i class="pi pi-file-edit"></i>Form B: Bid Submission</div>
  <span class="form-status-badge required">Required</span>
</div>
<div class="attachment-summary">
  <span class="attachment-count required"><i class="pi pi-paperclip"></i> 1 doc</span>
  <span class="attachment-count from-profile"><i class="pi pi-star-fill"></i> 2 from profile</span>
</div>
</div>

<div class="submission-form-item">
<div class="submission-form-header">
  <div class="submission-form-name"><i class="pi pi-dollar"></i>Form C: Price Schedule</div>
  <span class="form-status-badge required">Required</span>
</div>
<div class="attachment-summary">
  <span class="attachment-count required"><i class="pi pi-paperclip"></i> 1 doc</span>
</div>
</div>

<div class="submission-form-item">
<div class="submission-form-header">
  <div class="submission-form-name"><i class="pi pi-cog"></i>Form D: Technical Bid</div>
  <span class="form-status-badge required">Required</span>
</div>
<div class="attachment-summary">
  <span class="attachment-count required"><i class="pi pi-paperclip"></i> 3 docs</span>
</div>
</div>

<div class="submission-form-item">
<div class="submission-form-header">
  <div class="submission-form-name"><i class="pi pi-chart-line"></i>Form G: Performance</div>
  <span class="form-status-badge required">Required</span>
</div>
<div class="attachment-summary">
  <span class="attachment-count from-profile"><i class="pi pi-star-fill"></i> 1 from profile</span>
</div>
</div>

<div class="submission-form-item">
<div class="submission-form-header">
  <div class="submission-form-name"><i class="pi pi-check-square"></i>Form H: Self Disclosure</div>
  <span class="form-status-badge required">Required</span>
</div>
<div class="attachment-summary">
  <span style="color: var(--text-muted); font-size: 11px;">No attachments</span>
</div>
</div>

<div class="submission-form-item">
<div class="submission-form-header">
  <div class="submission-form-name"><i class="pi pi-shield"></i>DRiVE Assessment</div>
  <span class="form-status-badge required">Required</span>
</div>
<div class="attachment-summary">
  <span class="attachment-count required"><i class="pi pi-paperclip"></i> 1 doc</span>
  <span class="attachment-count from-profile"><i class="pi pi-star-fill"></i> 1 from profile</span>
</div>
</div>
</div>
  </div> <!-- End overview-section -->
  </div> <!-- End overview-sidebar -->
<!-- Bid Submission View -->
<div class="view-section" id="view-bid-submission">
  <div id="main-content-bid-submission" class="main-content">
          <div class="tender-info-banner">
  <div class="tender-banner-ref">📋 Reference: UNOPS/ITB/2025/001</div>
  <h2 class="tender-banner-title">Supply and Delivery of Medical Equipment and Supplies</h2>
  <div class="tender-meta">
  <div class="meta-item">
  <span class="meta-label">📄 Tender Type</span>
  <span class="meta-value">ITB - Invitation to Bid</span>
  </div>
  <div class="meta-item">
  <span class="meta-label">📦 Category</span>
  <span class="meta-value">Goods</span>
  </div>
  <div class="meta-item">
  <span class="meta-label">🌐 Competition</span>
  <span class="meta-value">Public Competition</span>
  </div>
  <div class="meta-item">
  <span class="meta-label">💰 Estimated Value</span>
  <span class="meta-value">$250,000 USD</span>
  </div>
  <div class="meta-item">
  <span class="meta-label">🌍 Language</span>
  <span class="meta-value">English</span>
  </div>
  <div class="meta-item">
  <span class="meta-label">⏳ Bid Validity</span>
  <span class="meta-value">90 days from deadline</span>
  </div>
  </div>
  </div>
  
  <!-- Compact Tender Timeline for Bid Submission -->
  <div class="tender-timeline-banner compact">
    <div class="timeline-banner-header">
      <div class="timeline-banner-status">
        <span class="timeline-status-dot"></span>
        <span class="timeline-status-text">Your submission: 70% complete</span>
      </div>
      <div class="timeline-remaining">
        <i class="pi pi-clock"></i>
        <span class="timeline-remaining-text">5d 14h to submission</span>
      </div>
    </div>
    
    <div class="horizontal-timeline compact">
      <div class="timeline-track">
        <div class="timeline-progress" style="width: 72%;"></div>
        <div class="timeline-today-marker" style="left: 72%;">
          <div class="today-marker-label">Today</div>
          <div class="today-marker-dot"></div>
        </div>
        <div class="timeline-points">
          <div class="timeline-point completed" style="left: 0%;">
            <div class="timeline-point-dot"></div>
            <div class="timeline-point-content">
              <div class="timeline-point-label">Published</div>
              <div class="timeline-point-date">5 Dec</div>
            </div>
          </div>
          <div class="timeline-point completed" style="left: 18%;">
            <div class="timeline-point-dot"></div>
            <div class="timeline-point-content">
              <div class="timeline-point-label">Site Visit</div>
              <div class="timeline-point-date">15 Dec</div>
            </div>
          </div>
          <div class="timeline-point completed" style="left: 55%;">
            <div class="timeline-point-dot"></div>
            <div class="timeline-point-content">
              <div class="timeline-point-label">Clarifications</div>
              <div class="timeline-point-date">10 Jan</div>
            </div>
          </div>
          <div class="timeline-point active" style="left: 80%;">
            <div class="timeline-point-dot"></div>
            <div class="timeline-point-content">
              <div class="timeline-point-label">Submission</div>
              <div class="timeline-point-date">15 Jan</div>
            </div>
          </div>
          <div class="timeline-point future" style="left: 88%;">
            <div class="timeline-point-dot"></div>
            <div class="timeline-point-content">
              <div class="timeline-point-label">Bid Opening</div>
              <div class="timeline-point-date">16 Jan</div>
            </div>
          </div>
          <div class="timeline-point future" style="left: 100%;">
            <div class="timeline-point-dot"></div>
            <div class="timeline-point-content">
              <div class="timeline-point-label">Award</div>
              <div class="timeline-point-date">15 Feb</div>
            </div>
          </div>
        </div>
      </div>
  </div>
  </div>
  
  <!-- Bid Action Buttons Container -->
  <div class="bid-action-buttons-container" style="background: var(--surface-0); border-radius: var(--radius-md); padding: var(--spacing-sm) var(--spacing-md); margin-bottom: var(--spacing-md); border: 1px solid var(--surface-200);">
    <div class="bid-action-buttons" style="display: flex; justify-content: flex-end; align-items: center; gap: var(--spacing-sm);">
      <span style="color: var(--text-muted); font-size: 12px; margin-right: auto;"><i class="pi pi-save" style="margin-right: 4px;"></i>Draft saved 2 minutes ago</span>
      <button class="btn btn-ghost" onclick="navigateToView('my-tenders')"><i class="pi pi-arrow-left" style="margin-right: 6px;"></i>Back to My Tenders</button>
      <button class="btn btn-ghost"><i class="pi pi-save" style="margin-right: 6px;"></i>Save Draft</button>
      <button class="btn btn-secondary"><i class="pi pi-eye" style="margin-right: 6px;"></i>Preview Bid</button>
      <button class="btn btn-primary" disabled><i class="pi pi-send" style="margin-right: 6px;"></i>Submit Bid</button>
    </div>
  </div>
  
          <div class="layout-grid">
  <aside class="progress-sidebar">
  <div class="progress-card">
  <div class="progress-header">Your Progress</div>
  <div class="progress-bar">
  <div class="progress-fill" style="width: 70%;"></div>
  </div>
  <div class="progress-text">70% Complete</div>
  </div>
  
  <nav class="section-nav">
  <a href="#" class="section-nav-item completed" data-section="bid-details">
  <span class="section-icon">✓</span>
  <span>Bid Details</span>
  </a>
  <a href="#" class="section-nav-item completed" data-section="company">
  <span class="section-icon">✓</span>
  <span>Company Info</span>
  </a>
  <a href="#" class="section-nav-item active" data-section="submission">
  <span class="section-icon">📋</span>
  <span>Submission</span>
  </a>
  <a href="#" class="section-nav-item" data-section="review">
  <span class="section-icon">👁️</span>
  <span>Review & Submit</span>
  </a>
  </nav>
  </aside>
  
  <div class="content-area">
  <!-- Bid Details Section -->
  <section class="section-block hidden" id="section-bid-details">
  <div class="section-header">
  <div class="section-title">
  <div class="title-icon">📝</div>
  <span>Bid Participation Details</span>
  </div>
  <span class="section-status status-complete">Complete</span>
  </div>
  
  <div class="info-box">
  <span class="info-box-icon">💡</span>
  Specify your participation scope and what you will be offering.
  </div>
  
  <div class="form-grid">
  <div class="form-group full-width">
  <label class="form-label">Bidding for <span class="required">*</span></label>
  <div class="lot-selector">
  <div class="lot-card selected">
  <div class="lot-title">Entire Tender</div>
  <div class="lot-desc">All items</div>
  </div>
  <div class="lot-card">
  <div class="lot-title">Lot 1: Diagnostic Equipment</div>
  <div class="lot-desc">$100,000</div>
  </div>
  <div class="lot-card">
  <div class="lot-title">Lot 2: Surgical Supplies</div>
  <div class="lot-desc">$150,000</div>
  </div>
  </div>
  </div>
  
  <div class="form-group full-width">
  <label class="form-label">Brief Overview of Your Offering <span class="required">*</span></label>
  <textarea class="form-textarea" placeholder="Describe what you will offer...">We are offering comprehensive medical equipment solution with high-quality products, installation, training, and 3-year warranty.</textarea>
  </div>
  
  <div class="form-group">
  <label class="form-label">Delivery Timeline</label>
  <input type="text" class="form-input" value="90 days from contract signing">
  </div>
  
  <div class="form-group">
  <label class="form-label">Country of Supply</label>
  <select class="form-select">
  <option selected>United States</option>
  <option>Germany</option>
  <option>Japan</option>
  </select>
  </div>
  </div>
  </section>
  
  <!-- Company Information Section -->
  <section class="section-block hidden" id="section-company">
  <div class="section-header">
  <div class="section-title">
  <div class="title-icon">🏢</div>
  <span>Company Information</span>
  </div>
  <div>
  <button class="btn btn-ghost btn-sm" onclick="alert('Redirecting to Supplier Profile...')">
  <span>✏️</span> Edit Profile
  </button>
  <span class="section-status status-complete">Complete</span>
  </div>
  </div>
  
  <div class="info-box">
  <span class="info-box-icon">ℹ️</span>
  All company information is managed at the profile level. To update, please visit your supplier profile.
  </div>
  
  <h3 style="font-size: 16px; font-weight: 600; margin: var(--spacing-xl) 0 var(--spacing-md);">Company Details</h3>
  
  <div class="form-grid">
  <div class="form-group full-width">
  <label class="form-label">Company Legal Name</label>
  <input type="text" class="form-input" value="Acme Corporation Ltd." disabled>
  </div>
  
  <div class="form-group">
  <label class="form-label">UNGM Number</label>
  <input type="text" class="form-input" value="UNGM-123456" disabled>
  </div>
  
  <div class="form-group">
  <label class="form-label">Country</label>
  <input type="text" class="form-input" value="United States" disabled>
  </div>
  </div>
  
  <h3 style="font-size: 16px; font-weight: 600; margin: var(--spacing-xl) 0 var(--spacing-md);">Main Contact for This Bid <span class="required">*</span></h3>
  
  <div class="form-grid">
  <div class="form-group">
  <label class="form-label">Contact Name <span class="required">*</span></label>
  <input type="text" class="form-input" value="John Doe">
  </div>
  
  <div class="form-group">
  <label class="form-label">Email <span class="required">*</span></label>
  <input type="email" class="form-input" value="john.doe@acmecorp.com">
  </div>
  
  <div class="form-group">
  <label class="form-label">Phone <span class="required">*</span></label>
  <input type="tel" class="form-input" value="+1 (555) 123-4567">
  </div>
  
  <div class="form-group">
  <label class="form-label">Title <span class="required">*</span></label>
  <input type="text" class="form-input" value="Business Development Manager">
  </div>
  </div>
  
  <h3 style="font-size: 16px; font-weight: 600; margin: var(--spacing-xl) 0 var(--spacing-md);">Subsidiaries / Branch Offices</h3>
  
  <div class="info-box">
  <span class="info-box-icon">🏢</span>
  Subsidiary information is managed at the profile level.
  </div>
  
  <div class="subsidiary-item">
  <div class="subsidiary-info">
  <div class="subsidiary-name">Acme Medical Solutions Inc.</div>
  <div class="subsidiary-ungm">UNGM-123457 • United States • Medical Equipment Division</div>
  </div>
  <span style="font-size: 12px; color: var(--text-muted);">From Profile</span>
  </div>
  
  <h3 style="font-size: 16px; font-weight: 600; margin: var(--spacing-xl) 0 var(--spacing-md);">Joint Venture / Consortium</h3>
  
  <div class="checkbox-group">
  <input type="checkbox" id="jv-checkbox" onchange="toggleJVForm(this.checked)">
  <label for="jv-checkbox">I would like to bid as a Joint Venture / Consortium</label>
  </div>
  </section>
  
  <!-- Submission Section (renamed from Bid Proposal) -->
  <section class="section-block" id="section-submission">
  <div class="section-header">
  <div class="section-title">
  <div class="title-icon">📋</div>
  <span>Submission</span>
  </div>
  <div style="display: flex; gap: var(--spacing-md); align-items: center;">
  <button class="btn btn-secondary btn-sm" onclick="openModal('add-alternate-offer-modal')">
  <span>📑</span> Add Alternate Offer
  </button>
  <span class="section-status status-incomplete">In Progress</span>
  </div>
  </div>
  
  <div class="info-box">
  <span class="info-box-icon">📝</span>
  Complete all required forms below. Click each form to expand and fill in your information.
  </div>
  
  <!-- Form C: Price Schedule -->
  <div class="collapsible-form">
  <div class="collapsible-form-header" onclick="toggleForm(this)">
  <div class="collapsible-form-title">
  <div class="form-icon">💰</div>
  <span>Form C: Price Schedule Form</span>
  </div>
  <div class="collapsible-form-meta">
  <span class="form-completion">0% Complete</span>
  <span class="section-status status-incomplete">Not Started</span>
  <span class="collapse-icon">▼</span>
  </div>
  </div>
  <div class="collapsible-form-body">
  <div class="info-box" style="margin-bottom: var(--spacing-md);">
  <span class="info-box-icon">📋</span>
  Fill in these Price Schedule Forms in accordance with the instructions. Tables are adapted according to the Schedule of Requirements and applicable Incoterms rules.
  </div>
  
  <!-- Bid Summary Section -->
  <h4 style="color: var(--primary-600); margin: var(--spacing-lg) 0 var(--spacing-md) 0; padding-bottom: var(--spacing-sm); border-bottom: 2px solid var(--primary-500);">Bid Summary</h4>
  
  <div class="info-box" style="background: var(--info-50); border-left-color: var(--info-500); margin-bottom: var(--spacing-md);">
  <span class="info-box-icon">💡</span>
  <strong>Calculated fields</strong> are automatically computed from the pricing tables below. Currency is restricted to: <strong>USD, EUR</strong>
  </div>
  
  <div class="table-responsive">
  <table class="data-table">
  <tbody>
  <tr>
  <td style="font-weight: 600; width: 60%;">Bidder's Total prices <strong>FCA</strong> (Price of goods FCA + Related Services)</td>
  <td style="background: var(--info-50);">
  <div style="display: flex; gap: 10px; align-items: center;">
  <select class="form-select" style="width: 100px;" disabled>
  <option>USD</option><option>EUR</option>
  </select>
  <input type="text" class="form-input" value="0.00" readonly style="flex: 1; background: var(--info-50);">
  </div>
  <small style="color: var(--text-muted);">Auto-calculated from prices table</small>
  </td>
  </tr>
  <tr>
  <td style="font-weight: 600;">Bidder's Total prices <strong>DPU</strong> (Price of goods DPU + Related Services)</td>
  <td style="background: var(--info-50);">
  <div style="display: flex; gap: 10px; align-items: center;">
  <select class="form-select" style="width: 100px;" disabled>
  <option>USD</option><option>EUR</option>
  </select>
  <input type="text" class="form-input" value="0.00" readonly style="flex: 1; background: var(--info-50);">
  </div>
  <small style="color: var(--text-muted);">Auto-calculated from prices table</small>
  </td>
  </tr>
  <tr style="border-top: 2px solid var(--surface-300);">
  <td style="font-weight: 600;">Total Price of Goods <strong>FCA</strong></td>
  <td style="background: var(--info-50);">
  <input type="text" class="form-input" value="0.00" readonly style="background: var(--info-50);">
  </td>
  </tr>
  <tr>
  <td style="font-weight: 600;">Total Price of Goods <strong>DPU</strong></td>
  <td style="background: var(--info-50);">
  <input type="text" class="form-input" value="0.00" readonly style="background: var(--info-50);">
  </td>
  </tr>
  <tr style="border-top: 2px solid var(--surface-300);">
  <td style="font-weight: 600;">Total Price of Related Services</td>
  <td style="background: var(--info-50);">
  <input type="text" class="form-input" value="0.00" readonly style="background: var(--info-50);">
  </td>
  </tr>
  </tbody>
  </table>
  </div>
  
  <!-- Prices for Goods Section -->
  <h4 style="color: var(--primary-600); margin: var(--spacing-xl) 0 var(--spacing-md) 0; padding-bottom: var(--spacing-sm); border-bottom: 2px solid var(--primary-500);">Prices for Goods</h4>
  
  <div class="info-box" style="background: var(--info-50); border-left-color: var(--info-500); margin-bottom: var(--spacing-md);">
  <span class="info-box-icon">💡</span>
  Price columns shown based on selected Incoterms. Total prices auto-calculated. Currency dropdown limited to: <strong>USD, EUR</strong>
  </div>
  
  <div class="table-responsive">
  <table class="data-table">
  <thead>
  <tr>
  <th style="width: 5%;">Item</th>
  <th style="width: 25%;">Description</th>
  <th style="width: 8%;">Qty</th>
  <th style="width: 10%;">Currency</th>
  <th style="width: 13%;">Unit price FCA</th>
  <th style="width: 13%;">Unit price DPU</th>
  <th style="width: 13%;">Total FCA</th>
  <th style="width: 13%;">Total DPU</th>
  </tr>
  </thead>
  <tbody>
  <tr>
  <td>1.</td>
  <td>Ultrasound Machines (UNSPSC: 42182104)</td>
  <td style="text-align: center;">5</td>
  <td><select class="form-select"><option>USD</option><option>EUR</option></select></td>
  <td><input type="number" class="form-input" step="0.01" placeholder="0.00"></td>
  <td><input type="number" class="form-input" step="0.01" placeholder="0.00"></td>
  <td style="background: var(--info-50);"><input type="text" class="form-input" value="0.00" readonly style="background: var(--info-50);"></td>
  <td style="background: var(--info-50);"><input type="text" class="form-input" value="0.00" readonly style="background: var(--info-50);"></td>
  </tr>
  <tr>
  <td>2.</td>
  <td>Patient Monitors (UNSPSC: 42182108)</td>
  <td style="text-align: center;">20</td>
  <td><select class="form-select"><option>USD</option><option>EUR</option></select></td>
  <td><input type="number" class="form-input" step="0.01" placeholder="0.00"></td>
  <td><input type="number" class="form-input" step="0.01" placeholder="0.00"></td>
  <td style="background: var(--info-50);"><input type="text" class="form-input" value="0.00" readonly style="background: var(--info-50);"></td>
  <td style="background: var(--info-50);"><input type="text" class="form-input" value="0.00" readonly style="background: var(--info-50);"></td>
  </tr>
  <tr>
  <td>3.</td>
  <td>Surgical Lights (UNSPSC: 42192201)</td>
  <td style="text-align: center;">8</td>
  <td><select class="form-select"><option>USD</option><option>EUR</option></select></td>
  <td><input type="number" class="form-input" step="0.01" placeholder="0.00"></td>
  <td><input type="number" class="form-input" step="0.01" placeholder="0.00"></td>
  <td style="background: var(--info-50);"><input type="text" class="form-input" value="0.00" readonly style="background: var(--info-50);"></td>
  <td style="background: var(--info-50);"><input type="text" class="form-input" value="0.00" readonly style="background: var(--info-50);"></td>
  </tr>
  <tr>
  <td>4.</td>
  <td>Anesthesia Machines (UNSPSC: 42182101)</td>
  <td style="text-align: center;">3</td>
  <td><select class="form-select"><option>USD</option><option>EUR</option></select></td>
  <td><input type="number" class="form-input" step="0.01" placeholder="0.00"></td>
  <td><input type="number" class="form-input" step="0.01" placeholder="0.00"></td>
  <td style="background: var(--info-50);"><input type="text" class="form-input" value="0.00" readonly style="background: var(--info-50);"></td>
  <td style="background: var(--info-50);"><input type="text" class="form-input" value="0.00" readonly style="background: var(--info-50);"></td>
  </tr>
  <tr style="font-weight: 600; background: var(--surface-100);">
  <td colspan="6" style="text-align: right; padding-right: var(--spacing-md);">Total Price of Goods →</td>
  <td style="background: var(--info-100);"><input type="text" class="form-input" value="0.00" readonly style="font-weight: 700; background: var(--info-100);"></td>
  <td style="background: var(--info-100);"><input type="text" class="form-input" value="0.00" readonly style="font-weight: 700; background: var(--info-100);"></td>
  </tr>
  </tbody>
  </table>
  </div>
  
  <!-- Prices for Related Services Section -->
  <h4 style="color: var(--primary-600); margin: var(--spacing-xl) 0 var(--spacing-md) 0; padding-bottom: var(--spacing-sm); border-bottom: 2px solid var(--primary-500);">Prices for Related Services</h4>
  
  <div class="info-box" style="background: var(--info-50); border-left-color: var(--info-500); margin-bottom: var(--spacing-md);">
  <span class="info-box-icon">💡</span>
  Service descriptions and quantities are <strong>pre-populated</strong> from the Schedule of Requirements. Only unit prices need to be entered.
  </div>
  
  <div class="table-responsive">
  <table class="data-table">
  <thead>
  <tr>
  <th>Item</th>
  <th>Description of services</th>
  <th>Quantity / Physical Unit</th>
  <th>Unit price (if applicable)</th>
  <th>Total price per service</th>
  </tr>
  </thead>
  <tbody>
  <tr>
  <td>1.</td>
  <td style="background: var(--info-50);">
  <input type="text" class="form-input" value="Installation and Configuration" readonly style="background: var(--info-50);">
  <small style="color: var(--text-muted);">Pre-populated from tender requirements</small>
  </td>
  <td style="background: var(--info-50);">
  <input type="text" class="form-input" value="1 service" readonly style="background: var(--info-50);">
  </td>
  <td><input type="number" class="form-input" step="0.01" placeholder="0.00"></td>
  <td style="background: var(--info-50);"><input type="text" class="form-input" value="0.00" readonly style="background: var(--info-50);"></td>
  </tr>
  <tr>
  <td>2.</td>
  <td style="background: var(--info-50);">
  <input type="text" class="form-input" value="Training (3 days)" readonly style="background: var(--info-50);">
  <small style="color: var(--text-muted);">Pre-populated from tender requirements</small>
  </td>
  <td style="background: var(--info-50);">
  <input type="text" class="form-input" value="10 persons" readonly style="background: var(--info-50);">
  </td>
  <td><input type="number" class="form-input" step="0.01" placeholder="0.00"></td>
  <td style="background: var(--info-50);"><input type="text" class="form-input" value="0.00" readonly style="background: var(--info-50);"></td>
  </tr>
  <tr>
  <td>3.</td>
  <td style="background: var(--info-50);">
  <input type="text" class="form-input" value="Extended Warranty (2 years)" readonly style="background: var(--info-50);">
  <small style="color: var(--text-muted);">Pre-populated from tender requirements</small>
  </td>
  <td style="background: var(--info-50);">
  <input type="text" class="form-input" value="All items" readonly style="background: var(--info-50);">
  </td>
  <td><input type="number" class="form-input" step="0.01" placeholder="0.00"></td>
  <td style="background: var(--info-50);"><input type="text" class="form-input" value="0.00" readonly style="background: var(--info-50);"></td>
  </tr>
  <tr style="font-weight: 600; background: var(--surface-100);">
  <td colspan="4" style="text-align: right; padding-right: var(--spacing-md);">Total Price of Related Services →</td>
  <td style="background: var(--info-100);"><input type="text" class="form-input" value="0.00" readonly style="font-weight: 700; background: var(--info-100);"></td>
  </tr>
  </tbody>
  </table>
  </div>
  
  <!-- Shipment & Delivery Information Section -->
  <h4 style="color: var(--primary-600); margin: var(--spacing-xl) 0 var(--spacing-md) 0; padding-bottom: var(--spacing-sm); border-bottom: 2px solid var(--primary-500);">Shipment & Delivery Information</h4>
  
  <div class="table-responsive">
  <table class="data-table">
  <thead>
  <tr>
  <th>Item</th>
  <th>FCA Point(s) of Delivery</th>
  <th>Shipment dimensions<br><small>(Including package)</small></th>
  <th>Gross weight</th>
  <th>Total volume</th>
  </tr>
  </thead>
  <tbody>
  <tr>
  <td style="font-weight: 600;">Ultrasound Machines</td>
  <td><input type="text" class="form-input" placeholder="City, Country"></td>
  <td><input type="text" class="form-input" placeholder="L×W×H cm"></td>
  <td><input type="text" class="form-input" placeholder="kg"></td>
  <td><input type="text" class="form-input" placeholder="m³"></td>
  </tr>
  <tr>
  <td style="font-weight: 600;">Patient Monitors</td>
  <td><input type="text" class="form-input" placeholder="City, Country"></td>
  <td><input type="text" class="form-input" placeholder="L×W×H cm"></td>
  <td><input type="text" class="form-input" placeholder="kg"></td>
  <td><input type="text" class="form-input" placeholder="m³"></td>
  </tr>
  <tr>
  <td style="font-weight: 600;">Surgical Lights</td>
  <td><input type="text" class="form-input" placeholder="City, Country"></td>
  <td><input type="text" class="form-input" placeholder="L×W×H cm"></td>
  <td><input type="text" class="form-input" placeholder="kg"></td>
  <td><input type="text" class="form-input" placeholder="m³"></td>
  </tr>
  <tr>
  <td style="font-weight: 600;">Anesthesia Machines</td>
  <td><input type="text" class="form-input" placeholder="City, Country"></td>
  <td><input type="text" class="form-input" placeholder="L×W×H cm"></td>
  <td><input type="text" class="form-input" placeholder="kg"></td>
  <td><input type="text" class="form-input" placeholder="m³"></td>
  </tr>
  </tbody>
  </table>
  </div>
  </div>
  </div>
  
  <!-- Form D: Technical Bid Form -->
  <div class="collapsible-form">
  <div class="collapsible-form-header" onclick="toggleForm(this)">
  <div class="collapsible-form-title">
  <div class="form-icon">📋</div>
  <span>Form D: Technical Bid Form</span>
  </div>
  <div class="collapsible-form-meta">
  <span class="form-completion">0% Complete</span>
  <span class="section-status status-incomplete">Not Started</span>
  <span class="collapse-icon">▼</span>
  </div>
  </div>
  <div class="collapsible-form-body">
  <div class="info-box" style="margin-bottom: var(--spacing-md);">
  <span class="info-box-icon">📋</span>
  Complete the <strong>Comparative Data Tables</strong> to demonstrate compliance with UNOPS requirements. Bidders are NOT allowed to make any changes in the "UNOPS requirements" columns.
  </div>
  
  <div class="info-box" style="background: var(--warning-50); border-left-color: var(--warning-500); margin-bottom: var(--spacing-lg);">
  <span class="info-box-icon">⚠️</span>
  Fill in all coloured cells to demonstrate compliance. Changes to "UNOPS requirements" columns might disqualify your bid.
  </div>
  
  <!-- Technical Specifications Table for Item 1 -->
  <h4 style="color: var(--primary-600); margin: var(--spacing-lg) 0 var(--spacing-md) 0; padding-bottom: var(--spacing-sm); border-bottom: 2px solid var(--primary-500);">Technical specifications for goods – Comparative Data Table</h4>
  
  <div style="font-weight: 600; margin: var(--spacing-md) 0; color: var(--primary-700); background: var(--surface-100); padding: var(--spacing-sm) var(--spacing-md); border-radius: var(--radius-sm);">UNSPSC Code: 42182104 - Ultrasound Machines</div>
  
  <!-- Model/Manufacturer Info -->
  <div class="table-responsive" style="margin-bottom: var(--spacing-md);">
  <table class="data-table">
  <tbody>
  <tr>
  <td style="font-weight: 600; width: 30%;">Model (full name)</td>
  <td><input type="text" class="form-input" placeholder="Insert model name"></td>
  </tr>
  <tr>
  <td style="font-weight: 600;">Manufacturer</td>
  <td>
  <div style="display: flex; gap: 10px; align-items: center;">
  <input type="text" class="form-input" placeholder="Full legal name" style="flex: 1;">
  <input type="text" class="form-input" placeholder="UNGM ID (optional)" style="width: 150px;">
  </div>
  </td>
  </tr>
  <tr>
  <td style="font-weight: 600;">Manufacturer Address</td>
  <td><textarea class="form-textarea" placeholder="Full address" rows="2"></textarea></td>
  </tr>
  <tr>
  <td style="font-weight: 600;">Country of Origin</td>
  <td><input type="text" class="form-input" placeholder="Insert country"></td>
  </tr>
  </tbody>
  </table>
  </div>
  
  <!-- Comparative Data Table -->
  <div class="table-responsive">
  <table class="data-table">
  <thead>
  <tr>
  <th style="width: 40px;">#</th>
  <th style="width: 40%;">Item Specification<br><small>(UNOPS Requirements)</small></th>
  <th style="width: 15%;">Is quotation compliant?<br><small>Bidder to complete</small></th>
  <th>Details of goods offered<br><small>Bidder to complete</small></th>
  </tr>
  </thead>
  <tbody>
  <tr>
  <td style="text-align: center; font-weight: 600; background: var(--surface-100);">1</td>
  <td style="background: var(--surface-50);">Portable ultrasound system with color Doppler capability</td>
  <td style="background: var(--warning-50);">
  <div style="display: flex; flex-direction: column; gap: 4px;">
  <label style="display: flex; align-items: center; gap: 6px;"><input type="radio" name="spec1"> Yes</label>
  <label style="display: flex; align-items: center; gap: 6px;"><input type="radio" name="spec1"> No</label>
  </div>
  </td>
  <td style="background: var(--warning-50);"><textarea class="form-textarea" placeholder="Insert details of goods offered, including specifications and references to manuals" rows="2"></textarea></td>
  </tr>
  <tr>
  <td style="text-align: center; font-weight: 600; background: var(--surface-100);">2</td>
  <td style="background: var(--surface-50);">15" or larger high-resolution LED display, minimum 1920x1080 pixels</td>
  <td style="background: var(--warning-50);">
  <div style="display: flex; flex-direction: column; gap: 4px;">
  <label style="display: flex; align-items: center; gap: 6px;"><input type="radio" name="spec2"> Yes</label>
  <label style="display: flex; align-items: center; gap: 6px;"><input type="radio" name="spec2"> No</label>
  </div>
  </td>
  <td style="background: var(--warning-50);"><textarea class="form-textarea" placeholder="Insert details of goods offered" rows="2"></textarea></td>
  </tr>
  <tr>
  <td style="text-align: center; font-weight: 600; background: var(--surface-100);">3</td>
  <td style="background: var(--surface-50);">Minimum 3 probe connectors with simultaneous probe operation capability</td>
  <td style="background: var(--warning-50);">
  <div style="display: flex; flex-direction: column; gap: 4px;">
  <label style="display: flex; align-items: center; gap: 6px;"><input type="radio" name="spec3"> Yes</label>
  <label style="display: flex; align-items: center; gap: 6px;"><input type="radio" name="spec3"> No</label>
  </div>
  </td>
  <td style="background: var(--warning-50);"><textarea class="form-textarea" placeholder="Insert details of goods offered" rows="2"></textarea></td>
  </tr>
  <tr>
  <td style="text-align: center; font-weight: 600; background: var(--surface-100);">4</td>
  <td style="background: var(--surface-50);">Built-in battery with minimum 60 minutes operation time</td>
  <td style="background: var(--warning-50);">
  <div style="display: flex; flex-direction: column; gap: 4px;">
  <label style="display: flex; align-items: center; gap: 6px;"><input type="radio" name="spec4"> Yes</label>
  <label style="display: flex; align-items: center; gap: 6px;"><input type="radio" name="spec4"> No</label>
  </div>
  </td>
  <td style="background: var(--warning-50);"><textarea class="form-textarea" placeholder="Insert details of goods offered" rows="2"></textarea></td>
  </tr>
  <tr>
  <td style="text-align: center; font-weight: 600; background: var(--surface-100);">5</td>
  <td style="background: var(--surface-50);">CE and/or FDA approved medical device certification</td>
  <td style="background: var(--warning-50);">
  <div style="display: flex; flex-direction: column; gap: 4px;">
  <label style="display: flex; align-items: center; gap: 6px;"><input type="radio" name="spec5"> Yes</label>
  <label style="display: flex; align-items: center; gap: 6px;"><input type="radio" name="spec5"> No</label>
  </div>
  </td>
  <td style="background: var(--warning-50);"><textarea class="form-textarea" placeholder="Insert details of goods offered" rows="2"></textarea></td>
  </tr>
  </tbody>
  </table>
  </div>
  
  <div class="form-group" style="margin-top: var(--spacing-md);">
  <label class="form-label"><strong>ANY DEVIATION MUST BE LISTED BELOW:</strong></label>
  <textarea class="form-textarea" rows="3" placeholder="List any deviations from requirements for Ultrasound Machines"></textarea>
  </div>
  
  <!-- Delivery Requirements Table -->
  <h4 style="color: var(--primary-600); margin: var(--spacing-xl) 0 var(--spacing-md) 0; padding-bottom: var(--spacing-sm); border-bottom: 2px solid var(--primary-500);">Delivery requirements – Comparative Data Table</h4>
  
  <div class="table-responsive">
  <table class="data-table">
  <thead>
  <tr>
  <th style="width: 40%;">Delivery Requirement<br><small>(UNOPS Requirements)</small></th>
  <th style="width: 15%;">Is quotation compliant?<br><small>Bidder to complete</small></th>
  <th>Details<br><small>Bidder to complete</small></th>
  </tr>
  </thead>
  <tbody>
  <tr>
  <td style="background: var(--surface-50);">
  <strong>Delivery time for the goods</strong><br>
  Bidder shall make the goods available at FCA within 60 days and deliver to DPU within 90 days after Contract signature.
  </td>
  <td style="background: var(--warning-50);">
  <div style="display: flex; flex-direction: column; gap: 4px;">
  <label style="display: flex; align-items: center; gap: 6px;"><input type="radio" name="delivery1"> Yes</label>
  <label style="display: flex; align-items: center; gap: 6px;"><input type="radio" name="delivery1"> No</label>
  </div>
  </td>
  <td style="background: var(--warning-50);"><textarea class="form-textarea" placeholder="Insert details" rows="2"></textarea></td>
  </tr>
  <tr>
  <td style="background: var(--surface-50);">
  <strong>Delivery place and Incoterms rules</strong><br>
  Bidder's quoted FCA point – FCA (Incoterms2020)<br>
  Final destination – DPU (Incoterms2020)
  </td>
  <td style="background: var(--warning-50);">
  <div style="display: flex; flex-direction: column; gap: 4px;">
  <label style="display: flex; align-items: center; gap: 6px;"><input type="radio" name="delivery2"> Yes</label>
  <label style="display: flex; align-items: center; gap: 6px;"><input type="radio" name="delivery2"> No</label>
  </div>
  </td>
  <td style="background: var(--warning-50);"><textarea class="form-textarea" placeholder="Insert details" rows="2"></textarea></td>
  </tr>
  <tr>
  <td style="background: var(--surface-50);">
  <strong>Consignee details</strong><br>
  United Nations Office for Project Services (UNOPS)<br>
  [Address as specified in tender documents]
  </td>
  <td style="background: var(--warning-50);">
  <div style="display: flex; flex-direction: column; gap: 4px;">
  <label style="display: flex; align-items: center; gap: 6px;"><input type="radio" name="delivery3"> Yes</label>
  <label style="display: flex; align-items: center; gap: 6px;"><input type="radio" name="delivery3"> No</label>
  </div>
  </td>
  <td style="background: var(--warning-50);"><textarea class="form-textarea" placeholder="Insert details" rows="2"></textarea></td>
  </tr>
  </tbody>
  </table>
  </div>
  
  <!-- Supporting Documents -->
  <h4 style="color: var(--primary-600); margin: var(--spacing-xl) 0 var(--spacing-md) 0; padding-bottom: var(--spacing-sm); border-bottom: 2px solid var(--primary-500);">Supporting Documents</h4>
  
  <div class="file-upload-area" style="padding: var(--spacing-lg);">
  <div class="file-upload-options">
  <button class="upload-option-btn" onclick="openModal('select-from-profile-modal')">
  📁 Select from Profile
  </button>
  <button class="upload-option-btn">
  📤 Upload New
  </button>
  </div>
  <div class="upload-text" style="margin-top: var(--spacing-sm);">Upload: Product brochures, technical data sheets, certifications (ISO 13485, CE, FDA)</div>
  </div>
  </div>
  </div>
  
  <!-- DRiVE Questionnaire Form -->
  <div class="collapsible-form">
  <div class="collapsible-form-header" onclick="toggleForm(this)">
  <div class="collapsible-form-title">
  <div class="form-icon">🔗</div>
  <span>DRiVE Self-Assessment Questionnaire</span>
  </div>
  <div class="collapsible-form-meta">
  <span class="section-status status-complete">Linked</span>
  <span class="collapse-icon">▼</span>
  </div>
  </div>
  <div class="collapsible-form-body">
  <div class="info-box" style="background: var(--success-50); border-left-color: var(--success-500);">
  <span class="info-box-icon">✓</span>
  <strong>DRiVE Assessment Linked:</strong> Your current DRiVE questionnaire submission (completed on 15 Nov 2024) will be linked to this tender. The assessment is valid and will be included as part of your bid documentation.
  </div>
  
  <div style="display: flex; gap: var(--spacing-md); margin-top: var(--spacing-md);">
  <button class="btn btn-secondary btn-sm">Review DRiVE Assessment</button>
  <button class="btn btn-ghost btn-sm">Complete New Assessment</button>
  </div>
  </div>
  </div>
  
  <!-- Form A: JV/Consortium Partner Information (conditional) -->
  <div class="collapsible-form collapsed" id="jv-form-section" style="display: none;">
  <div class="collapsible-form-header" onclick="toggleForm(this)">
  <div class="collapsible-form-title">
  <div class="form-icon">🤝</div>
  <span>Form A: Joint Venture Partner Information</span>
  </div>
  <div class="collapsible-form-meta">
  <span class="optional-badge">Conditional</span>
  <span class="collapse-icon">▼</span>
  </div>
  </div>
  <div class="collapsible-form-body">
  <div class="info-box" style="margin-bottom: var(--spacing-md);">
  <span class="info-box-icon">📋</span>
  To be completed and returned with your Bid if the Bid is submitted as a Joint Venture/Consortium/Association.
  </div>
  
  <div class="form-group" style="margin-bottom: var(--spacing-lg);">
  <label class="form-label">JV / Consortium / Association Name <span class="required">*</span></label>
  <input type="text" class="form-input" id="jvNameInput" placeholder="Enter the name of the Joint Venture, Consortium, or Association">
  </div>
  
  <div class="info-box" style="background: var(--info-50); border-left-color: var(--info-500); margin-bottom: var(--spacing-md);">
  <span class="info-box-icon">ℹ️</span>
  Add all partners in the JV/Consortium/Association below. One partner must be designated as the <strong>Leading Partner</strong> who will have authority to bind the JV.
  </div>
  
  <div id="jvPartnersContainer"></div>
  
  <div style="background: var(--surface-100); border: 1px solid var(--surface-200); border-radius: var(--radius-sm); padding: var(--spacing-md); margin: var(--spacing-md) 0; display: flex; justify-content: space-between; align-items: center;" id="jvPercentageSummary">
  <span style="font-weight: 600;">Total Share: <span id="totalJVPercentage">0</span>%</span>
  <span id="jvPercentageStatus" style="color: var(--warning-500);">Must equal 100%</span>
  </div>
  
  <button class="btn btn-secondary btn-sm" onclick="addJVPartnerBidding()">
  <span>➕</span> Add Partner
  </button>
  
  <div class="info-box" style="margin-top: var(--spacing-lg);">
  <span class="info-box-icon">📝</span>
  We hereby confirm that if the contract is awarded, all parties shall be jointly and severally liable to UNOPS for the fulfillment of the Contract.
  </div>
  
  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-md); margin-top: var(--spacing-lg);">
  <div>
  <button class="btn btn-secondary" onclick="downloadFormAPDF()" style="width: 100%;">
  📥 Download Form A as PDF for Signatures
  </button>
  </div>
  <div class="file-upload-area" style="padding: var(--spacing-md); text-align: center;">
  <label for="form-a-upload-bid" style="cursor: pointer; display: block;">
  <div style="font-size: 1.5em; margin-bottom: var(--spacing-xs);">📤</div>
  <div style="font-weight: 600;">Upload Signed Document</div>
  <div style="font-size: 12px; color: var(--text-muted);">Click or drag file here</div>
  <input type="file" id="form-a-upload-bid" accept=".pdf,.jpg,.png" style="display: none;">
  </label>
  </div>
  </div>
  </div>
  </div>
  
  <!-- Form B: Bid Submission Form -->
  <div class="collapsible-form">
  <div class="collapsible-form-header" onclick="toggleForm(this)">
  <div class="collapsible-form-title">
  <div class="form-icon">📄</div>
  <span>Form B: Bid Submission Form</span>
  </div>
  <div class="collapsible-form-meta">
  <span class="form-completion">0% Complete</span>
  <span class="section-status status-incomplete">Not Started</span>
  <span class="collapse-icon">▼</span>
  </div>
  </div>
  <div class="collapsible-form-body">
  <div class="info-box" style="margin-bottom: var(--spacing-md);">
  <span class="info-box-icon">📋</span>
  Complete this form and sign it as part of your bid submission. No alterations to its format shall be permitted.
  </div>
  
  <div class="info-box" style="background: var(--info-50); border-left-color: var(--info-500); margin-bottom: var(--spacing-lg);">
  <span class="info-box-icon">ℹ️</span>
  Fields highlighted in blue are <strong>pre-populated</strong> from previous steps and tender configuration.
  </div>
  
  <div style="background: var(--surface-50); border: 2px solid var(--primary-500); padding: var(--spacing-lg); border-radius: var(--radius-md); margin-bottom: var(--spacing-lg);">
  <p style="font-weight: 600; margin-bottom: var(--spacing-md);">We, the undersigned, declare that:</p>
  
  <ol style="margin-left: var(--spacing-lg); line-height: 1.8;">
  <li style="margin-bottom: var(--spacing-md);">We have examined and have no reservations to the bidding documents, including amendments:
  <div style="display: inline-flex; flex-wrap: wrap; gap: 8px; margin-top: 8px;">
  <span style="background: var(--info-50); padding: 4px 10px; border-radius: 4px; border: 1px solid var(--info-300); font-weight: 600;">No. 01 - Dec 5, 2024</span>
  </div>
  </li>
  
  <li style="margin-bottom: var(--spacing-md);">We offer to supply in conformity with the bidding documents, including the UNOPS General Conditions of Contract;</li>
  
  <li style="margin-bottom: var(--spacing-md);">The total price of our bid, excluding any discounts offered in item (d) below, is:
  <span style="background: var(--info-50); padding: 4px 10px; border-radius: 4px; border: 1px solid var(--info-300); font-weight: 600;">USD <span id="bidTotalPrice">0.00</span></span>
  </li>
  
  <li style="margin-bottom: var(--spacing-md);">The discounts offered and the methodology for their application are:
  <div class="form-group" style="margin-top: var(--spacing-sm);">
  <label class="form-label">Discounts Offered</label>
  <textarea class="form-textarea" placeholder="Enter any discounts you wish to offer..." rows="3"></textarea>
  </div>
  <div class="form-group">
  <label class="form-label">Methodology of Application</label>
  <textarea class="form-textarea" placeholder="Describe how discounts will be applied..." rows="3"></textarea>
  </div>
  </li>
  
  <li style="margin-bottom: var(--spacing-md);">Our bid shall be valid for the period of
  <input type="number" class="form-input" value="90" readonly style="width: 80px; display: inline-block; background: var(--info-50); text-align: center;"> days
  from the date fixed for the bid submission deadline;</li>
  
  <li style="margin-bottom: var(--spacing-md);">If our bid is accepted, we commit to obtain a performance security in accordance with Instructions to Bidders;</li>
  
  <li style="margin-bottom: var(--spacing-md);">We have no conflict of interest in any activity that would put us in a conflict with UNOPS;</li>
  
  <li style="margin-bottom: var(--spacing-md);">We have not declared bankruptcy, are not involved in bankruptcy proceedings;</li>
  
  <li style="margin-bottom: var(--spacing-md);">Our firm confirms that we have not been associated with the preparation of the design or documents used in this solicitation;</li>
  
  <li style="margin-bottom: var(--spacing-md);">We embrace the principles of the United Nations Supplier Code of Conduct and adhere to the UN Global Compact;</li>
  
  <li style="margin-bottom: var(--spacing-md);">Our firm, affiliates, or subsidiaries have not been declared ineligible by UNOPS or listed by the UN Security Council;</li>
  
  <li style="margin-bottom: var(--spacing-md);">We have not offered and will not offer fees, gifts or favours in exchange for this ITB;</li>
  
  <li style="margin-bottom: var(--spacing-md);">We understand that you are not bound to accept the lowest evaluated bid or any other bid.</li>
  </ol>
  </div>
  </div>
  </div>
  
  <!-- Form G: Performance Statement -->
  <div class="collapsible-form">
  <div class="collapsible-form-header" onclick="toggleForm(this)">
  <div class="collapsible-form-title">
  <div class="form-icon">📊</div>
  <span>Form G: Performance Statement</span>
  </div>
  <div class="collapsible-form-meta">
  <span class="form-completion">0% Complete</span>
  <span class="section-status status-incomplete">Not Started</span>
  <span class="collapse-icon">▼</span>
  </div>
  </div>
  <div class="collapsible-form-body">
  <div class="info-box" style="margin-bottom: var(--spacing-md);">
  <span class="info-box-icon">📋</span>
  Provide references of similar contracts completed in the past. Include at least 3 relevant references.
  </div>
  
  <div class="table-responsive">
  <table class="data-table" id="performanceTable">
  <thead>
  <tr>
  <th style="width: 20%;">Order placed by<br><small>(Full address of purchaser)</small></th>
  <th style="width: 12%;">Order no & date</th>
  <th style="width: 18%;">Description & quantity of ordered items</th>
  <th style="width: 10%;">Value of Order</th>
  <th style="width: 10%;">Contractual Delivery Date</th>
  <th style="width: 10%;">Actual Delivery Date</th>
  <th style="width: 10%;">Remarks (reasons of late delivery, if any)</th>
  <th style="width: 10%;">Was supply satisfactory?</th>
  </tr>
  </thead>
  <tbody>
  <tr>
  <td><textarea class="form-textarea" rows="2" placeholder="Company name & address"></textarea></td>
  <td><input type="text" class="form-input" placeholder="Order #"></td>
  <td><textarea class="form-textarea" rows="2" placeholder="Description"></textarea></td>
  <td><input type="text" class="form-input" placeholder="$0.00"></td>
  <td><input type="date" class="form-input"></td>
  <td><input type="date" class="form-input"></td>
  <td><textarea class="form-textarea" rows="2" placeholder="Remarks"></textarea></td>
  <td><select class="form-select"><option>Select</option><option>Yes</option><option>No</option></select></td>
  </tr>
  <tr>
  <td><textarea class="form-textarea" rows="2" placeholder="Company name & address"></textarea></td>
  <td><input type="text" class="form-input" placeholder="Order #"></td>
  <td><textarea class="form-textarea" rows="2" placeholder="Description"></textarea></td>
  <td><input type="text" class="form-input" placeholder="$0.00"></td>
  <td><input type="date" class="form-input"></td>
  <td><input type="date" class="form-input"></td>
  <td><textarea class="form-textarea" rows="2" placeholder="Remarks"></textarea></td>
  <td><select class="form-select"><option>Select</option><option>Yes</option><option>No</option></select></td>
  </tr>
  <tr>
  <td><textarea class="form-textarea" rows="2" placeholder="Company name & address"></textarea></td>
  <td><input type="text" class="form-input" placeholder="Order #"></td>
  <td><textarea class="form-textarea" rows="2" placeholder="Description"></textarea></td>
  <td><input type="text" class="form-input" placeholder="$0.00"></td>
  <td><input type="date" class="form-input"></td>
  <td><input type="date" class="form-input"></td>
  <td><textarea class="form-textarea" rows="2" placeholder="Remarks"></textarea></td>
  <td><select class="form-select"><option>Select</option><option>Yes</option><option>No</option></select></td>
  </tr>
  </tbody>
  </table>
  </div>
  
  <button class="btn btn-secondary btn-sm" onclick="addPerformanceRow()" style="margin-top: var(--spacing-md);">
  <span>➕</span> Add Another Reference
  </button>
  </div>
  </div>
  
  <!-- Form H: Self Disclosure -->
  <div class="collapsible-form">
  <div class="collapsible-form-header" onclick="toggleForm(this)">
  <div class="collapsible-form-title">
  <div class="form-icon">✅</div>
  <span>Form H: Self Disclosure Form</span>
  </div>
  <div class="collapsible-form-meta">
  <span class="form-completion">0% Complete</span>
  <span class="section-status status-incomplete">Not Started</span>
  <span class="collapse-icon">▼</span>
  </div>
  </div>
  <div class="collapsible-form-body">
  <div class="info-box" style="margin-bottom: var(--spacing-md);">
  <span class="info-box-icon">📋</span>
  Complete the self-disclosure questions below. If you answer "Yes" to any question, provide an explanation in the comments field.
  </div>
  
  <div class="table-responsive">
  <table class="data-table">
  <thead>
  <tr>
  <th style="width: 5%;">Ref.</th>
  <th style="width: 55%;">Critical Area</th>
  <th style="width: 15%;">Response</th>
  <th style="width: 25%;">Comments</th>
  </tr>
  </thead>
  <tbody>
  <tr>
  <td style="text-align: center; font-weight: 600;">1</td>
  <td>Has the entity or individual declared bankruptcy, or been involved in bankruptcy or receivership proceedings?</td>
  <td><select class="form-select"><option>Select</option><option>Yes</option><option>No</option></select></td>
  <td><textarea class="form-textarea" rows="2" placeholder="If 'Yes', explain..."></textarea></td>
  </tr>
  <tr>
  <td style="text-align: center; font-weight: 600;">2</td>
  <td>Has the entity or individual been found in breach of their obligations relating to the payment of taxes or social security contributions?</td>
  <td><select class="form-select"><option>Select</option><option>Yes</option><option>No</option></select></td>
  <td><textarea class="form-textarea" rows="2" placeholder="If 'Yes', explain..."></textarea></td>
  </tr>
  <tr>
  <td style="text-align: center; font-weight: 600;">3</td>
  <td>Has the entity or individual been found guilty of misconduct for the violation of applicable laws, regulations or ethical standards?</td>
  <td><select class="form-select"><option>Select</option><option>Yes</option><option>No</option></select></td>
  <td><textarea class="form-textarea" rows="2" placeholder="If 'Yes', explain..."></textarea></td>
  </tr>
  <tr>
  <td style="text-align: center; font-weight: 600;">4</td>
  <td>Has the entity or individual engaged in any Proscribed Practices (corrupt, fraudulent, coercive, collusive, unethical practice, or obstruction)?</td>
  <td><select class="form-select"><option>Select</option><option>Yes</option><option>No</option></select></td>
  <td><textarea class="form-textarea" rows="2" placeholder="If 'Yes', explain..."></textarea></td>
  </tr>
  <tr>
  <td style="text-align: center; font-weight: 600;">5</td>
  <td>Has the entity or individual unduly obtained any confidential information in connection with this procurement process?</td>
  <td><select class="form-select"><option>Select</option><option>Yes</option><option>No</option></select></td>
  <td><textarea class="form-textarea" rows="2" placeholder="If 'Yes', explain..."></textarea></td>
  </tr>
  <tr>
  <td style="text-align: center; font-weight: 600;">6</td>
  <td>Does the entity or individual have a conflict of interest that may prevent them from entering into an agreement with UNOPS?</td>
  <td><select class="form-select"><option>Select</option><option>Yes</option><option>No</option></select></td>
  <td><textarea class="form-textarea" rows="2" placeholder="If 'Yes', explain..."></textarea></td>
  </tr>
  <tr>
  <td style="text-align: center; font-weight: 600;">7</td>
  <td>Has the entity or individual been found to be involved in: Fraudulent practice, Corrupt practice, Money laundering, Terrorist financing, Child labour, or Human trafficking?</td>
  <td><select class="form-select"><option>Select</option><option>Yes</option><option>No</option></select></td>
  <td><textarea class="form-textarea" rows="2" placeholder="If 'Yes', explain..."></textarea></td>
  </tr>
  <tr>
  <td style="text-align: center; font-weight: 600;">8</td>
  <td>Has the entity or individual had significant performance issues in the past that led to early termination or contractual penalties?</td>
  <td><select class="form-select"><option>Select</option><option>Yes</option><option>No</option></select></td>
  <td><textarea class="form-textarea" rows="2" placeholder="If 'Yes', explain..."></textarea></td>
  </tr>
  <tr>
  <td style="text-align: center; font-weight: 600;">9</td>
  <td>Has the entity or individual committed any financial irregularity that prejudiced the use of public funds?</td>
  <td><select class="form-select"><option>Select</option><option>Yes</option><option>No</option></select></td>
  <td><textarea class="form-textarea" rows="2" placeholder="If 'Yes', explain..."></textarea></td>
  </tr>
  <tr>
  <td style="text-align: center; font-weight: 600;">10</td>
  <td>Has the entity or individual created an entity in a different jurisdiction to circumvent fiscal, social or legal obligations?</td>
  <td><select class="form-select"><option>Select</option><option>Yes</option><option>No</option></select></td>
  <td><textarea class="form-textarea" rows="2" placeholder="If 'Yes', explain..."></textarea></td>
  </tr>
  </tbody>
  </table>
  </div>
  
  <div style="background: var(--surface-50); border: 2px solid var(--primary-500); padding: var(--spacing-md); border-radius: var(--radius-md); margin-top: var(--spacing-lg);">
  <p style="font-weight: 600;">I, the undersigned, hereby declare that the information provided is true and correct. I understand that any willful dishonesty may result in the refusal of this submission and engagement in any of the above critical areas may result in exclusion from this procurement process.</p>
  </div>
  </div>
  </div>
  </section>
  </div>
  </div>
  </div>
  </div>

</div> <!-- End main-content-tender-details -->
</div> <!-- End view-tender-details -->


</main>
</div>

<!-- Modals -->
<div class="modal" id="ask-clarification-modal">
<div class="modal-content">
<div class="modal-header">
<h3 class="modal-title">
<i class="pi pi-comment"></i>
<span>Ask a Clarification Question</span>
</h3>
<button class="modal-close" onclick="closeModal('ask-clarification-modal')">×</button>
</div>
<div class="modal-body">
<div class="alert alert-info">
<i class="pi pi-info-circle"></i>
<div>
<strong>Anonymous Submission</strong>
<p style="margin-top: 4px; font-size: 13px;">Your question will be anonymized and the response will be visible to all bidders.</p>
</div>
</div>

<div class="form-group" style="margin-bottom: var(--spacing-lg);">
<label class="form-label">Related Section <span class="required">*</span></label>
<select class="form-select">
<option>Select...</option>
<option>General Information</option>
<option>Technical Specifications</option>
<option>Pricing</option>
</select>
</div>

<div class="form-group">
<label class="form-label">Your Question <span class="required">*</span></label>
<textarea class="form-textarea" placeholder="Type your question..." style="min-height: 150px;"></textarea>
</div>
</div>
<div class="modal-footer">
<button class="btn btn-ghost" onclick="closeModal('ask-clarification-modal')">Cancel</button>
<button class="btn btn-primary" onclick="submitClarification()"><i class="pi pi-send" style="margin-right: 8px;"></i>Submit Question</button>
</div>
</div>
</div>

<div class="modal" id="add-alternate-offer-modal">
<div class="modal-content">
<div class="modal-header">
<h3 class="modal-title">
<i class="pi pi-copy"></i>
<span>Add Alternate Offer</span>
</h3>
<button class="modal-close" onclick="closeModal('add-alternate-offer-modal')">×</button>
</div>
<div class="modal-body">
<div class="alert alert-info">
<i class="pi pi-lightbulb"></i>
<div>
<strong>Alternate Offers</strong>
<p style="margin-top: 4px; font-size: 13px;">Submit an alternative bid in addition to your primary compliant bid. Each alternate offer requires separate pricing and technical documentation.</p>
</div>
</div>

<div class="form-group" style="margin-bottom: var(--spacing-lg);">
<label class="form-label">Alternate Offer Title <span class="required">*</span></label>
<input type="text" class="form-input" placeholder="e.g., Alternative Bid #1 - Premium Equipment">
</div>

<div class="form-group">
<label class="form-label">Description <span class="required">*</span></label>
<textarea class="form-textarea" placeholder="Describe what makes this alternate offer different..." style="min-height: 120px;"></textarea>
</div>
</div>
<div class="modal-footer">
<button class="btn btn-ghost" onclick="closeModal('add-alternate-offer-modal')">Cancel</button>
<button class="btn btn-primary" onclick="createAlternateOffer()"><i class="pi pi-plus" style="margin-right: 8px;"></i>Create Alternate Offer</button>
</div>
</div>
</div>

<div class="modal" id="select-from-profile-modal">
<div class="modal-content">
<div class="modal-header">
<h3 class="modal-title">
<i class="pi pi-folder-open"></i>
<span>Select from Profile</span>
</h3>
<button class="modal-close" onclick="closeModal('select-from-profile-modal')">×</button>
</div>
<div class="modal-body">
<div class="alert alert-info" style="margin-bottom: var(--spacing-lg);">
<i class="pi pi-info-circle"></i>
<div>
<strong>Your Profile Documents</strong>
<p style="margin-top: 4px; font-size: 13px;">Select documents from your supplier profile to attach to this submission. These documents are already verified and stored securely.</p>
</div>
</div>

<div style="max-height: 350px; overflow-y: auto;">
<div class="uploaded-file" style="cursor: pointer; transition: all 0.2s; border: 2px solid transparent;" onmouseover="this.style.borderColor='var(--primary-400)'" onmouseout="this.style.borderColor='transparent'">
<div class="file-icon"><i class="pi pi-file-pdf" style="font-size: 24px; color: var(--danger-500);"></i></div>
<div class="file-info">
<div class="file-name">ISO-13485-Certificate.pdf</div>
<div class="file-size">1.2 MB • Valid until: Dec 2025</div>
</div>
<input type="checkbox" style="width: 20px; height: 20px; cursor: pointer;">
</div>

<div class="uploaded-file" style="cursor: pointer; transition: all 0.2s; border: 2px solid transparent;" onmouseover="this.style.borderColor='var(--primary-400)'" onmouseout="this.style.borderColor='transparent'">
<div class="file-icon"><i class="pi pi-file-pdf" style="font-size: 24px; color: var(--danger-500);"></i></div>
<div class="file-info">
<div class="file-name">Company-Registration.pdf</div>
<div class="file-size">850 KB • Uploaded: Nov 2024</div>
</div>
<input type="checkbox" style="width: 20px; height: 20px; cursor: pointer;">
</div>

<div class="uploaded-file" style="cursor: pointer; transition: all 0.2s; border: 2px solid transparent;" onmouseover="this.style.borderColor='var(--primary-400)'" onmouseout="this.style.borderColor='transparent'">
<div class="file-icon"><i class="pi pi-file-pdf" style="font-size: 24px; color: var(--danger-500);"></i></div>
<div class="file-info">
<div class="file-name">Tax-Clearance-Certificate.pdf</div>
<div class="file-size">320 KB • Uploaded: Oct 2024</div>
</div>
<input type="checkbox" style="width: 20px; height: 20px; cursor: pointer;">
</div>

<div class="uploaded-file" style="cursor: pointer; transition: all 0.2s; border: 2px solid transparent;" onmouseover="this.style.borderColor='var(--primary-400)'" onmouseout="this.style.borderColor='transparent'">
<div class="file-icon"><i class="pi pi-file-pdf" style="font-size: 24px; color: var(--danger-500);"></i></div>
<div class="file-info">
<div class="file-name">Financial-Statements-2023.pdf</div>
<div class="file-size">2.1 MB • Uploaded: Sep 2024</div>
</div>
<input type="checkbox" style="width: 20px; height: 20px; cursor: pointer;">
</div>
</div>
</div>
<div class="modal-footer">
<button class="btn btn-ghost" onclick="closeModal('select-from-profile-modal')">Cancel</button>
<button class="btn btn-primary" onclick="closeModal('select-from-profile-modal')"><i class="pi pi-check" style="margin-right: 8px;"></i>Attach Selected</button>
</div>
</div>
</div>


<script>
let currentView = 'dashboard';
let currentSection = 'submission';

document.addEventListener('DOMContentLoaded', function() {
attachMenuListeners();
attachSectionNavListeners();
});

// Toast Notification Function
function showToast(message) {
    let toast = document.getElementById('supplierToast');
    if (!toast) {
        toast = document.createElement('div');
        toast.id = 'supplierToast';
        toast.style.cssText = `
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--primary-500);
            color: white;
            padding: 15px 25px;
            border-radius: var(--radius-md);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            z-index: 10001;
            font-size: 14px;
            font-weight: 500;
            opacity: 0;
            transition: opacity 0.3s ease;
            max-width: 400px;
        `;
        document.body.appendChild(toast);
    }
    
    toast.textContent = message;
    toast.style.opacity = '1';
    
    setTimeout(() => {
        toast.style.opacity = '0';
    }, 3000);
}

// Accessibility Panel
function openAccessibilityPanel() {
    const existing = document.getElementById('accessibilityPanel');
    if (existing) {
        existing.remove();
        return;
    }

    const panelHtml = `
        <div id="accessibilityPanel" class="accessibility-panel open" role="dialog" aria-labelledby="a11y-title" aria-modal="true">
            <div class="accessibility-panel-header">
                <div style="display: flex; align-items: center; gap: var(--spacing-sm);">
                    <i class="pi pi-eye" style="color: var(--primary-500);"></i>
                    <span id="a11y-title" style="font-weight: 600;">Accessibility Options</span>
                </div>
                <button onclick="document.getElementById('accessibilityPanel').remove()" style="background: none; border: none; cursor: pointer;" aria-label="Close accessibility panel">
                    <i class="pi pi-times"></i>
                </button>
            </div>
            <div style="padding: var(--spacing-md);">
                <div class="accessibility-option">
                    <div>
                        <div style="font-weight: 500; font-size: 13px;">High Contrast</div>
                        <div style="font-size: 11px; color: var(--text-muted);">Increase color contrast for better visibility</div>
                    </div>
                    <div class="accessibility-toggle ${document.body.classList.contains('high-contrast') ? 'active' : ''}" 
                         onclick="toggleAccessibility('high-contrast', this)"
                         role="switch"
                         aria-checked="${document.body.classList.contains('high-contrast')}"
                         tabindex="0"></div>
                </div>
                <div class="accessibility-option">
                    <div>
                        <div style="font-weight: 500; font-size: 13px;">Large Text</div>
                        <div style="font-size: 11px; color: var(--text-muted);">Increase text size throughout the app</div>
                    </div>
                    <div class="accessibility-toggle ${document.body.classList.contains('large-text') ? 'active' : ''}" 
                         onclick="toggleAccessibility('large-text', this)"
                         role="switch"
                         aria-checked="${document.body.classList.contains('large-text')}"
                         tabindex="0"></div>
                </div>
                <div class="accessibility-option">
                    <div>
                        <div style="font-weight: 500; font-size: 13px;">Reduced Motion</div>
                        <div style="font-size: 11px; color: var(--text-muted);">Minimize animations and transitions</div>
                    </div>
                    <div class="accessibility-toggle ${document.body.classList.contains('reduced-motion') ? 'active' : ''}" 
                         onclick="toggleAccessibility('reduced-motion', this)"
                         role="switch"
                         aria-checked="${document.body.classList.contains('reduced-motion')}"
                         tabindex="0"></div>
                </div>
                <div class="accessibility-option">
                    <div>
                        <div style="font-weight: 500; font-size: 13px;">Color Blind Mode</div>
                        <div style="font-size: 11px; color: var(--text-muted);">Add patterns to color-coded elements</div>
                    </div>
                    <div class="accessibility-toggle ${document.body.classList.contains('colorblind-mode') ? 'active' : ''}" 
                         onclick="toggleAccessibility('colorblind-mode', this)"
                         role="switch"
                         aria-checked="${document.body.classList.contains('colorblind-mode')}"
                         tabindex="0"></div>
                </div>
                <div style="padding: var(--spacing-md); background: var(--info-50); border-radius: var(--radius-sm); margin-top: var(--spacing-sm);">
                    <div style="font-size: 11px; color: var(--info-400);">
                        <i class="pi pi-info-circle"></i> Settings are saved to your browser and will be remembered on your next visit.
                    </div>
                </div>
            </div>
        </div>
    `;
    document.body.insertAdjacentHTML('beforeend', panelHtml);
}

function toggleAccessibility(mode, element) {
    document.body.classList.toggle(mode);
    element.classList.toggle('active');
    element.setAttribute('aria-checked', element.classList.contains('active'));
    
    // Save to localStorage
    localStorage.setItem('a11y-' + mode, element.classList.contains('active'));
    
    showToast('✓ ' + mode.replace('-', ' ').replace(/\b\w/g, l => l.toUpperCase()) + (element.classList.contains('active') ? ' enabled' : ' disabled'));
}

// Language Selector
function openLanguageSelector() {
    const existing = document.getElementById('languagePanel');
    if (existing) {
        existing.remove();
        return;
    }

    const languages = [
        { code: 'EN', name: 'English', flag: '🇬🇧' },
        { code: 'FR', name: 'Français', flag: '🇫🇷' },
        { code: 'ES', name: 'Español', flag: '🇪🇸' },
        { code: 'AR', name: 'العربية', flag: '🇸🇦', rtl: true },
        { code: 'PT', name: 'Português', flag: '🇵🇹' },
        { code: 'RU', name: 'Русский', flag: '🇷🇺' }
    ];

    const panelHtml = `
        <div id="languagePanel" style="position: fixed; top: 70px; right: 200px; width: 220px; background: var(--surface-0); border-radius: var(--radius-lg); box-shadow: var(--shadow-lg); z-index: 10000; border: 1px solid var(--surface-200); animation: modalSlideIn 0.3s ease-out;" role="dialog" aria-label="Language selection">
            <div style="padding: var(--spacing-md); border-bottom: 1px solid var(--surface-200); display: flex; justify-content: space-between; align-items: center;">
                <span style="font-weight: 600; font-size: 13px;">🌐 Select Language</span>
                <button onclick="document.getElementById('languagePanel').remove()" style="background: none; border: none; cursor: pointer;" aria-label="Close">
                    <i class="pi pi-times"></i>
                </button>
            </div>
            <div style="padding: var(--spacing-sm);">
                ${languages.map(lang => `
                    <div onclick="selectLanguage('${lang.code}', '${lang.name}')" 
                         style="display: flex; align-items: center; gap: var(--spacing-sm); padding: var(--spacing-sm); border-radius: var(--radius-sm); cursor: pointer; transition: background 0.2s;"
                         onmouseover="this.style.background='var(--primary-50)'"
                         onmouseout="this.style.background='transparent'"
                         role="button"
                         tabindex="0">
                        <span style="font-size: 18px;">${lang.flag}</span>
                        <span style="font-size: 13px; ${lang.rtl ? 'direction: rtl;' : ''}">${lang.name}</span>
                        ${lang.code === 'EN' ? '<i class="pi pi-check" style="margin-left: auto; color: var(--success-500);"></i>' : ''}
                    </div>
                `).join('')}
            </div>
            <div style="padding: var(--spacing-sm); background: var(--surface-50); border-top: 1px solid var(--surface-200); border-radius: 0 0 var(--radius-lg) var(--radius-lg);">
                <div style="font-size: 10px; color: var(--text-muted); text-align: center;">
                    🔄 Auto-detect based on browser settings
                </div>
            </div>
        </div>
    `;
    document.body.insertAdjacentHTML('beforeend', panelHtml);
}

function selectLanguage(code, name) {
    document.getElementById('currentLang').textContent = code;
    document.getElementById('languagePanel').remove();
    showToast('🌐 Language changed to ' + name);
}

// AI Assistant
function openAIAssistant() {
    const existing = document.getElementById('aiAssistantPanel');
    if (existing) {
        existing.remove();
        return;
    }

    const panelHtml = `
        <div id="aiAssistantPanel" style="position: fixed; top: 70px; right: 120px; width: 400px; max-height: 500px; background: var(--surface-0); border-radius: var(--radius-lg); box-shadow: var(--shadow-lg); z-index: 10000; border: 1px solid var(--surface-200); display: flex; flex-direction: column; animation: modalSlideIn 0.3s ease-out;" role="dialog" aria-labelledby="ai-title">
            <div style="padding: var(--spacing-lg); background: linear-gradient(135deg, #8b5cf6 0%, #3b82f6 100%); border-radius: var(--radius-lg) var(--radius-lg) 0 0; color: white;">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div style="display: flex; align-items: center; gap: var(--spacing-sm);">
                        <div style="width: 36px; height: 36px; background: rgba(255,255,255,0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <i class="pi pi-bolt" style="font-size: 18px;"></i>
                        </div>
                        <div>
                            <div id="ai-title" style="font-weight: 600; font-size: 14px;">AI Supplier Assistant</div>
                            <div style="font-size: 11px; opacity: 0.8;">Powered by UNOPS AI</div>
                        </div>
                    </div>
                    <button onclick="document.getElementById('aiAssistantPanel').remove()" style="background: rgba(255,255,255,0.2); border: none; width: 28px; height: 28px; border-radius: 50%; cursor: pointer; color: white;" aria-label="Close AI assistant">
                        <i class="pi pi-times"></i>
                    </button>
                </div>
            </div>
            <div style="flex: 1; padding: var(--spacing-md); overflow-y: auto; max-height: 300px;">
                <div style="background: var(--surface-50); padding: var(--spacing-md); border-radius: var(--radius-md); margin-bottom: var(--spacing-md);">
                    <div style="font-size: 12px; color: var(--text-primary);">
                        👋 Hello! I'm your AI assistant. I can help you with:
                    </div>
                    <ul style="margin: 8px 0 0 16px; padding: 0; font-size: 12px; color: var(--text-secondary);">
                        <li>Understanding tender requirements</li>
                        <li>Preparing your bid submission</li>
                        <li>Explaining procurement policies</li>
                        <li>Drafting clarification questions</li>
                    </ul>
                </div>
                <div style="display: grid; gap: var(--spacing-sm);">
                    <button onclick="askAI('How do I prepare my bid?')" style="text-align: left; padding: var(--spacing-sm); background: var(--primary-50); border: 1px solid var(--primary-200); border-radius: var(--radius-sm); cursor: pointer; font-size: 12px;">
                        💡 How do I prepare my bid?
                    </button>
                    <button onclick="askAI('What documents do I need?')" style="text-align: left; padding: var(--spacing-sm); background: var(--primary-50); border: 1px solid var(--primary-200); border-radius: var(--radius-sm); cursor: pointer; font-size: 12px;">
                        📋 What documents do I need?
                    </button>
                    <button onclick="askAI('Help me draft a clarification')" style="text-align: left; padding: var(--spacing-sm); background: var(--primary-50); border: 1px solid var(--primary-200); border-radius: var(--radius-sm); cursor: pointer; font-size: 12px;">
                        ✍️ Help me draft a clarification
                    </button>
                    <button onclick="askAI('Explain the submission process')" style="text-align: left; padding: var(--spacing-sm); background: var(--primary-50); border: 1px solid var(--primary-200); border-radius: var(--radius-sm); cursor: pointer; font-size: 12px;">
                        📝 Explain the submission process
                    </button>
                </div>
            </div>
            <div style="padding: var(--spacing-md); border-top: 1px solid var(--surface-200);">
                <div style="display: flex; gap: var(--spacing-sm);">
                    <input type="text" id="aiInput" placeholder="Ask me anything about tendering..." style="flex: 1; padding: var(--spacing-sm); border: 1px solid var(--surface-300); border-radius: var(--radius-sm); font-size: 12px;" aria-label="Ask AI a question">
                    <button onclick="askAI(document.getElementById('aiInput').value)" style="background: linear-gradient(135deg, #8b5cf6 0%, #3b82f6 100%); color: white; border: none; padding: var(--spacing-sm) var(--spacing-md); border-radius: var(--radius-sm); cursor: pointer;">
                        <i class="pi pi-send"></i>
                    </button>
                </div>
            </div>
        </div>
    `;
    document.body.insertAdjacentHTML('beforeend', panelHtml);
}

function askAI(question) {
    if (!question || !question.trim()) return;
    showToast('🤖 AI is thinking... (Feature coming soon)');
    const input = document.getElementById('aiInput');
    if (input) input.value = '';
}

// Help Center
function openHelpCenter() {
    const existing = document.getElementById('helpPanel');
    if (existing) {
        existing.remove();
        return;
    }

    const panelHtml = `
        <div id="helpPanel" style="position: fixed; top: 70px; right: 80px; width: 350px; background: var(--surface-0); border-radius: var(--radius-lg); box-shadow: var(--shadow-lg); z-index: 10000; border: 1px solid var(--surface-200); animation: modalSlideIn 0.3s ease-out;" role="dialog" aria-labelledby="help-title">
            <div style="padding: var(--spacing-lg); border-bottom: 1px solid var(--surface-200);">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div style="display: flex; align-items: center; gap: var(--spacing-sm);">
                        <i class="pi pi-question-circle" style="font-size: 20px; color: var(--primary-500);"></i>
                        <span id="help-title" style="font-weight: 600;">Help Center</span>
                    </div>
                    <button onclick="document.getElementById('helpPanel').remove()" style="background: none; border: none; cursor: pointer;" aria-label="Close help">
                        <i class="pi pi-times"></i>
                    </button>
                </div>
                <input type="text" placeholder="Search help articles..." style="width: 100%; padding: var(--spacing-sm); border: 1px solid var(--surface-300); border-radius: var(--radius-sm); margin-top: var(--spacing-md); font-size: 13px;" aria-label="Search help">
            </div>
            <div style="padding: var(--spacing-md); max-height: 350px; overflow-y: auto;">
                <div style="font-size: 11px; color: var(--text-muted); text-transform: uppercase; margin-bottom: var(--spacing-sm);">Quick Links</div>
                <div style="display: grid; gap: var(--spacing-sm);">
                    <a href="#" onclick="event.preventDefault(); showToast('📖 Opening Supplier Guide...')" style="display: flex; align-items: center; gap: var(--spacing-sm); padding: var(--spacing-sm); background: var(--surface-50); border-radius: var(--radius-sm); text-decoration: none; color: var(--text-primary); font-size: 13px;">
                        <i class="pi pi-book" style="color: var(--primary-500);"></i>
                        <span>Supplier Guide</span>
                    </a>
                    <a href="#" onclick="event.preventDefault(); showToast('🎥 Opening video tutorials...')" style="display: flex; align-items: center; gap: var(--spacing-sm); padding: var(--spacing-sm); background: var(--surface-50); border-radius: var(--radius-sm); text-decoration: none; color: var(--text-primary); font-size: 13px;">
                        <i class="pi pi-video" style="color: var(--success-500);"></i>
                        <span>Video Tutorials</span>
                    </a>
                    <a href="#" onclick="event.preventDefault(); showToast('❓ Opening FAQ...')" style="display: flex; align-items: center; gap: var(--spacing-sm); padding: var(--spacing-sm); background: var(--surface-50); border-radius: var(--radius-sm); text-decoration: none; color: var(--text-primary); font-size: 13px;">
                        <i class="pi pi-list" style="color: var(--warning-500);"></i>
                        <span>Frequently Asked Questions</span>
                    </a>
                    <a href="#" onclick="event.preventDefault(); showToast('📧 Opening support contact...')" style="display: flex; align-items: center; gap: var(--spacing-sm); padding: var(--spacing-sm); background: var(--surface-50); border-radius: var(--radius-sm); text-decoration: none; color: var(--text-primary); font-size: 13px;">
                        <i class="pi pi-envelope" style="color: var(--info-400);"></i>
                        <span>Contact Support</span>
                    </a>
                </div>
                <div style="font-size: 11px; color: var(--text-muted); text-transform: uppercase; margin: var(--spacing-lg) 0 var(--spacing-sm) 0;">Popular Topics</div>
                <div style="display: flex; flex-wrap: wrap; gap: var(--spacing-xs);">
                    <span onclick="showToast('📋 Opening article...')" style="padding: 4px 10px; background: var(--primary-50); color: var(--primary-600); border-radius: var(--radius-sm); font-size: 11px; cursor: pointer;">Bid Submission</span>
                    <span onclick="showToast('📋 Opening article...')" style="padding: 4px 10px; background: var(--primary-50); color: var(--primary-600); border-radius: var(--radius-sm); font-size: 11px; cursor: pointer;">Documents Required</span>
                    <span onclick="showToast('📋 Opening article...')" style="padding: 4px 10px; background: var(--primary-50); color: var(--primary-600); border-radius: var(--radius-sm); font-size: 11px; cursor: pointer;">Clarifications</span>
                    <span onclick="showToast('📋 Opening article...')" style="padding: 4px 10px; background: var(--primary-50); color: var(--primary-600); border-radius: var(--radius-sm); font-size: 11px; cursor: pointer;">Pricing Forms</span>
                </div>
            </div>
        </div>
    `;
    document.body.insertAdjacentHTML('beforeend', panelHtml);
}

// Notifications Panel
function openNotificationsPanel() {
    const existing = document.getElementById('notificationsPanel');
    if (existing) {
        existing.remove();
        return;
    }

    const notifications = [
        { type: 'urgent', icon: '🔴', title: 'Submission deadline approaching', desc: 'UNOPS/ITB/2025/001 deadline in 5 days', time: '5 min ago' },
        { type: 'info', icon: '💬', title: 'Clarification response posted', desc: 'UNOPS answered your question about Form D', time: '1 hour ago' },
        { type: 'warning', icon: '📝', title: 'Amendment published', desc: 'UNOPS/ITB/2025/001 has been amended', time: '2 hours ago' },
        { type: 'success', icon: '✅', title: 'Bid submitted successfully', desc: 'Your bid for RFQ/2024/089 was received', time: '1 day ago' },
        { type: 'info', icon: '📋', title: 'New tender available', desc: 'IT Infrastructure Services - matches your profile', time: '2 days ago' },
        { type: 'success', icon: '🏆', title: 'Contract awarded', desc: 'Congratulations! You won RFQ/2024/089', time: '3 days ago' },
        { type: 'info', icon: '📨', title: 'Profile update reminder', desc: 'Some documents expire next month', time: 'Last week' }
    ];

    const panelHtml = `
        <div id="notificationsPanel" style="position: fixed; top: 70px; right: 20px; width: 380px; background: var(--surface-0); border-radius: var(--radius-lg); box-shadow: var(--shadow-lg); z-index: 10000; border: 1px solid var(--surface-200); animation: modalSlideIn 0.3s ease-out;" role="dialog" aria-labelledby="notif-title">
            <div style="padding: var(--spacing-lg); border-bottom: 1px solid var(--surface-200); display: flex; justify-content: space-between; align-items: center;">
                <div style="display: flex; align-items: center; gap: var(--spacing-sm);">
                    <i class="pi pi-bell" style="font-size: 18px; color: var(--primary-500);"></i>
                    <span id="notif-title" style="font-weight: 600;">Notifications</span>
                    <span style="background: var(--danger-500); color: white; font-size: 10px; padding: 2px 8px; border-radius: 10px; font-weight: 600;">7 new</span>
                </div>
                <button onclick="document.getElementById('notificationsPanel').remove()" style="background: none; border: none; cursor: pointer;" aria-label="Close notifications">
                    <i class="pi pi-times"></i>
                </button>
            </div>
            <div style="max-height: 400px; overflow-y: auto;">
                ${notifications.map((notif, i) => `
                    <div style="padding: var(--spacing-md); border-bottom: 1px solid var(--surface-100); cursor: pointer; transition: background 0.2s; ${i < 3 ? 'background: var(--primary-50);' : ''}"
                         onmouseover="this.style.background='var(--surface-50)'"
                         onmouseout="this.style.background='${i < 3 ? 'var(--primary-50)' : 'transparent'}'"
                         role="button"
                         tabindex="0">
                        <div style="display: flex; gap: var(--spacing-sm);">
                            <span style="font-size: 18px;">${notif.icon}</span>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; font-size: 13px; color: var(--text-primary);">${notif.title}</div>
                                <div style="font-size: 12px; color: var(--text-secondary); margin-top: 2px;">${notif.desc}</div>
                                <div style="font-size: 10px; color: var(--text-muted); margin-top: 4px;">${notif.time}</div>
                            </div>
                            ${i < 3 ? '<div style="width: 8px; height: 8px; background: var(--primary-500); border-radius: 50%; flex-shrink: 0;"></div>' : ''}
                        </div>
                    </div>
                `).join('')}
            </div>
            <div style="padding: var(--spacing-md); border-top: 1px solid var(--surface-200); text-align: center;">
                <button onclick="showToast('📬 Viewing all notifications...'); document.getElementById('notificationsPanel').remove();" style="background: none; border: none; color: var(--primary-500); font-size: 13px; font-weight: 600; cursor: pointer;">
                    View All Notifications
                </button>
            </div>
        </div>
    `;
    document.body.insertAdjacentHTML('beforeend', panelHtml);
}

function attachMenuListeners() {
document.querySelectorAll('.menu-item[data-view]').forEach(item => {
item.addEventListener('click', function(e) {
e.preventDefault();
navigateToView(this.dataset.view);
});
});
}

function navigateToView(view) {
currentView = view;

// Show/hide quick actions based on view
const quickActions = document.getElementById('quick-actions');
if (quickActions) {
quickActions.style.display = view === 'bid-submission' ? 'flex' : 'none';
}


document.querySelectorAll('.menu-item').forEach(item => item.classList.remove('active'));
document.querySelector(`[data-view="${view}"]`)?.classList.add('active');

document.querySelectorAll('.view-section').forEach(section => section.classList.remove('active'));
document.getElementById(`view-${view}`)?.classList.add('active');

window.scrollTo({ top: 0, behavior: 'smooth' });
}

function viewTenderDetails(ref) {
navigateToView('tender-details');
}

function selectTenderForBid(ref) {
navigateToView('bid-submission');
}

function attachSectionNavListeners() {
document.querySelectorAll('.section-nav-item').forEach(item => {
item.addEventListener('click', function(e) {
e.preventDefault();
navigateToSection(this.dataset.section);
});
});
}

function navigateToSection(section) {
currentSection = section;

document.querySelectorAll('.section-nav-item').forEach(item => item.classList.remove('active'));
document.querySelector(`[data-section="${section}"]`)?.classList.add('active');

document.querySelectorAll('.section-block').forEach(block => block.classList.add('hidden'));
document.getElementById(`section-${section}`)?.classList.remove('hidden');

window.scrollTo({ top: 0, behavior: 'smooth' });
}

function toggleForm(header) {
const form = header.closest('.collapsible-form');
form.classList.toggle('collapsed');
}

function toggleJVForm(checked) {
document.getElementById('jv-form-section').style.display = checked ? 'block' : 'none';
if (checked && document.querySelectorAll('#jvPartnersContainer .jv-partner-card').length === 0) {
addJVPartnerBidding();
}
}

// JV Partner Management for Bidding
let jvBiddingPartnerCount = 0;
let jvBiddingLeadPartner = null;

function addJVPartnerBidding() {
jvBiddingPartnerCount++;
const container = document.getElementById('jvPartnersContainer');
if (!container) return;

const isFirst = jvBiddingPartnerCount === 1;
if (isFirst) jvBiddingLeadPartner = jvBiddingPartnerCount;

const partnerCard = document.createElement('div');
partnerCard.className = 'jv-partner-card' + (isFirst ? ' lead-partner' : '');
partnerCard.id = 'jv-partner-' + jvBiddingPartnerCount;
partnerCard.style.cssText = 'background: var(--surface-50); border: 1px solid var(--surface-200); border-radius: var(--radius-md); padding: var(--spacing-md); margin-bottom: var(--spacing-md);' + (isFirst ? 'border-color: var(--primary-500); border-width: 2px; background: var(--primary-50);' : '');

partnerCard.innerHTML = `
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--spacing-md); padding-bottom: var(--spacing-sm); border-bottom: 1px solid var(--surface-200);">
<span style="font-weight: 600; color: var(--primary-600);">Partner ${jvBiddingPartnerCount}</span>
${isFirst ? '<span style="background: var(--primary-500); color: white; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: 600;">LEAD PARTNER</span>' : ''}
</div>

<div class="form-grid">
<div class="form-group">
<label class="form-label">Company Name <span class="required">*</span></label>
<input type="text" class="form-input" placeholder="Enter company name">
</div>
<div class="form-group">
<label class="form-label">UNGM ID (if registered)</label>
<input type="text" class="form-input" placeholder="UNGM-XXXXXX">
</div>
</div>

<div class="form-group">
<label class="form-label">Full Address <span class="required">*</span></label>
<textarea class="form-textarea" placeholder="Street address, City, State/Province, Postal Code, Country" rows="2"></textarea>
</div>

<div class="form-grid">
<div class="form-group">
<label class="form-label">Telephone Number <span class="required">*</span></label>
<input type="tel" class="form-input" placeholder="+X-XXX-XXX-XXXX">
</div>
<div class="form-group">
<label class="form-label">E-mail Address <span class="required">*</span></label>
<input type="email" class="form-input" placeholder="email@company.com">
</div>
</div>

<div class="form-grid">
<div class="form-group">
<label class="form-label">Proposed Proportion of Responsibilities (%) <span class="required">*</span></label>
<input type="number" class="form-input jv-percentage-input" min="0" max="100" value="${isFirst ? 100 : 0}" placeholder="0" onchange="updateJVPercentages()">
</div>
<div class="form-group">
<label class="form-label">Type of Goods/Services to be Delivered</label>
<input type="text" class="form-input" placeholder="Describe the goods/services">
</div>
</div>

<div style="display: flex; justify-content: space-between; align-items: center; margin-top: var(--spacing-md); padding-top: var(--spacing-sm); border-top: 1px solid var(--surface-200);">
<label style="display: flex; align-items: center; gap: 8px;">
<input type="checkbox" ${isFirst ? 'checked' : ''} onchange="setJVLeadPartner(${jvBiddingPartnerCount}, this.checked)">
<span>Leading Partner (authority to bind the JV)</span>
</label>
${!isFirst ? `<button class="btn btn-ghost btn-sm" onclick="removeJVPartner(${jvBiddingPartnerCount})" style="color: var(--error-500);">🗑️ Remove</button>` : ''}
</div>
`;

container.appendChild(partnerCard);
updateJVPercentages();
}

function removeJVPartner(partnerId) {
const card = document.getElementById('jv-partner-' + partnerId);
if (card) {
card.remove();
updateJVPercentages();
}
}

function setJVLeadPartner(partnerId, isLead) {
if (isLead) {
// Uncheck all others
document.querySelectorAll('#jvPartnersContainer input[type="checkbox"]').forEach(cb => {
if (cb.closest('.jv-partner-card').id !== 'jv-partner-' + partnerId) {
cb.checked = false;
}
});

// Update styling
document.querySelectorAll('.jv-partner-card').forEach(card => {
card.classList.remove('lead-partner');
card.style.borderColor = 'var(--surface-200)';
card.style.borderWidth = '1px';
card.style.background = 'var(--surface-50)';
const badge = card.querySelector('.lead-partner-badge');
if (badge) badge.remove();
});

const currentCard = document.getElementById('jv-partner-' + partnerId);
if (currentCard) {
currentCard.classList.add('lead-partner');
currentCard.style.borderColor = 'var(--primary-500)';
currentCard.style.borderWidth = '2px';
currentCard.style.background = 'var(--primary-50)';

const header = currentCard.querySelector('div');
if (header && !header.querySelector('.lead-partner-badge')) {
const badge = document.createElement('span');
badge.className = 'lead-partner-badge';
badge.style.cssText = 'background: var(--primary-500); color: white; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: 600;';
badge.textContent = 'LEAD PARTNER';
header.appendChild(badge);
}
}
jvBiddingLeadPartner = partnerId;
}
}

function updateJVPercentages() {
const inputs = document.querySelectorAll('.jv-percentage-input');
let total = 0;

inputs.forEach(input => {
total += parseFloat(input.value) || 0;
});

const totalSpan = document.getElementById('totalJVPercentage');
const statusSpan = document.getElementById('jvPercentageStatus');
const summary = document.getElementById('jvPercentageSummary');

if (totalSpan) totalSpan.textContent = total.toFixed(0);

if (statusSpan && summary) {
if (total === 100) {
statusSpan.textContent = '✓ Valid';
statusSpan.style.color = 'var(--success-500)';
summary.style.borderColor = 'var(--success-500)';
summary.style.background = 'var(--success-50)';
} else {
statusSpan.textContent = total > 100 ? '⚠ Exceeds 100%' : '⚠ Must equal 100%';
statusSpan.style.color = 'var(--warning-500)';
summary.style.borderColor = 'var(--warning-500)';
summary.style.background = 'var(--warning-50)';
}
}
}

// Performance Statement Table
function addPerformanceRow() {
const table = document.querySelector('#performanceTable tbody');
if (!table) return;

const newRow = document.createElement('tr');
newRow.innerHTML = `
<td><textarea class="form-textarea" rows="2" placeholder="Company name & address"></textarea></td>
<td><input type="text" class="form-input" placeholder="Order #"></td>
<td><textarea class="form-textarea" rows="2" placeholder="Description"></textarea></td>
<td><input type="text" class="form-input" placeholder="$0.00"></td>
<td><input type="date" class="form-input"></td>
<td><input type="date" class="form-input"></td>
<td><textarea class="form-textarea" rows="2" placeholder="Remarks"></textarea></td>
<td><select class="form-select"><option>Select</option><option>Yes</option><option>No</option></select></td>
`;
table.appendChild(newRow);
}

// Download Form A as PDF placeholder
function downloadFormAPDF() {
alert('Form A PDF download functionality\\n\\nIn production, this will:\\n1. Generate a PDF with all partner information\\n2. Include signature blocks for each partner\\n3. Download for offline signing\\n4. Allow upload of signed PDF back to system');
}

function openTenderDetailsSidebar() {
document.getElementById('tender-details-sidebar').classList.add('open');
}

function openClarificationsSidebar() {
document.getElementById('clarifications-sidebar').classList.add('open');
}

function closeSidebar(id) {
document.getElementById(id).classList.remove('open');
}

function openModal(modalId) {
document.getElementById(modalId).classList.add('show');
}

function closeModal(modalId) {
document.getElementById(modalId).classList.remove('show');
}

function submitClarification() {
closeModal('ask-clarification-modal');
alert('✅ Clarification submitted! You will be notified when UNOPS responds.');
}

function submitClarificationQuick() {
closeSidebar('clarifications-sidebar');
alert('✅ Clarification submitted!');
}

function createAlternateOffer() {
closeModal('add-alternate-offer-modal');
alert('✅ Alternate offer created! You can now fill out the forms for your alternate bid.');
}

function toggleCollapseSidebar(header) {
const content = header.nextElementSibling;
const icon = header.querySelector('.collapsible-icon');

if (content.style.display === 'none' || !content.style.display) {
content.style.display = 'block';
icon.classList.remove('rotated');
} else {
content.style.display = 'none';
icon.classList.add('rotated');
}
}

function toggleItemCard(header, event) {
// Prevent any parent click handlers
if (event) {
event.stopPropagation();
}

const content = header.nextElementSibling;
const arrow = header.querySelector('.collapsible-arrow');

if (!content || !arrow) {
console.error('Could not find content or arrow element', header);
return;
}

// Toggle the expanded state
const isExpanded = content.classList.contains('expanded');

if (isExpanded) {
content.classList.remove('expanded');
arrow.classList.remove('rotated');
} else {
content.classList.add('expanded');
arrow.classList.add('rotated');
}
}

function expressInterest(tenderRef) {
if (confirm(`Express interest in tender ${tenderRef}?\n\nYou will be able to access tender details and submit a bid.`)) {
alert('✅ Interest expressed successfully!\n\nThis tender has been added to "My Tenders" and you can now prepare your bid.');
// In a real application, this would make an API call
}
}

function toggleSection(header) {
const section = header.closest('.collapsible-section');
if (section) {
section.classList.toggle('collapsed');
}
}

// Tab switching for tender details
function switchTab(tabId, btnElement) {
  // Hide all tab panels
  const panels = document.querySelectorAll('.tender-tab-panel');
  panels.forEach(panel => panel.classList.remove('active'));
  
  // Remove active class from all tab buttons
  const buttons = document.querySelectorAll('.tender-tab-btn');
  buttons.forEach(btn => btn.classList.remove('active'));
  
  // Show the selected tab panel
  const targetPanel = document.getElementById(tabId);
  if (targetPanel) {
    targetPanel.classList.add('active');
  }
  
  // Add active class to clicked button
  if (btnElement) {
    btnElement.classList.add('active');
}
}
</script>
</body>
</html>
